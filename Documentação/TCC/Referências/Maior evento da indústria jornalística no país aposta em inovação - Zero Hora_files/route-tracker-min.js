var _rq=window._rq||[];!function(a){"use strict";function b(){return E.injectDependencies(),E.createUtmzForQuery(),E.identifyByQueryContact(),E.trackPageView(),E.SendAsyncContact(),O.init(),{browser:L,cookie:H,dom:N,getIdentifiedContact:E.currentData,isContactIdentified:E.isContactIdentified,isRouteObject:!0,push:G.apply,request:F,storage:I,STORE_KEY:s,string:J,utils:K,VISUAL_MODE_KEY:w,_:c}}var c;(function(){var a={},b=Array.prototype,d=Object.prototype,e=Function.prototype,f=b.push,g=b.slice,h=b.concat,i=d.toString,j=d.hasOwnProperty,k=b.forEach,l=b.map,m=b.reduce,n=b.reduceRight,o=b.filter,p=b.every,q=b.some,r=b.indexOf,s=b.lastIndexOf,t=Array.isArray,u=Object.keys,v=e.bind;c=function(a){return a instanceof c?a:this instanceof c?void(this._wrapped=a):new c(a)},c.VERSION="1.6.0";var w=c.each=c.forEach=function(b,d,e){if(null==b)return b;if(k&&b.forEach===k)b.forEach(d,e);else if(b.length===+b.length){for(var f=0,g=b.length;g>f;f++)if(d.call(e,b[f],f,b)===a)return}else for(var h=c.keys(b),f=0,g=h.length;g>f;f++)if(d.call(e,b[h[f]],h[f],b)===a)return;return b};c.map=c.collect=function(a,b,c){var d=[];return null==a?d:l&&a.map===l?a.map(b,c):(w(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d)};var x="Reduce of empty array with no initial value";c.reduce=c.foldl=c.inject=function(a,b,d,e){var f=arguments.length>2;if(null==a&&(a=[]),m&&a.reduce===m)return e&&(b=c.bind(b,e)),f?a.reduce(b,d):a.reduce(b);if(w(a,function(a,c,g){f?d=b.call(e,d,a,c,g):(d=a,f=!0)}),!f)throw new TypeError(x);return d},c.reduceRight=c.foldr=function(a,b,d,e){var f=arguments.length>2;if(null==a&&(a=[]),n&&a.reduceRight===n)return e&&(b=c.bind(b,e)),f?a.reduceRight(b,d):a.reduceRight(b);var g=a.length;if(g!==+g){var h=c.keys(a);g=h.length}if(w(a,function(c,i,j){i=h?h[--g]:--g,f?d=b.call(e,d,a[i],i,j):(d=a[i],f=!0)}),!f)throw new TypeError(x);return d},c.find=c.detect=function(a,b,c){var d;return y(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},c.filter=c.select=function(a,b,c){var d=[];return null==a?d:o&&a.filter===o?a.filter(b,c):(w(a,function(a,e,f){b.call(c,a,e,f)&&d.push(a)}),d)},c.reject=function(a,b,d){return c.filter(a,function(a,c,e){return!b.call(d,a,c,e)},d)},c.every=c.all=function(b,d,e){d||(d=c.identity);var f=!0;return null==b?f:p&&b.every===p?b.every(d,e):(w(b,function(b,c,g){return(f=f&&d.call(e,b,c,g))?void 0:a}),!!f)};var y=c.some=c.any=function(b,d,e){d||(d=c.identity);var f=!1;return null==b?f:q&&b.some===q?b.some(d,e):(w(b,function(b,c,g){return f||(f=d.call(e,b,c,g))?a:void 0}),!!f)};c.contains=c.include=function(a,b){return null==a?!1:r&&a.indexOf===r?-1!=a.indexOf(b):y(a,function(a){return a===b})},c.invoke=function(a,b){var d=g.call(arguments,2),e=c.isFunction(b);return c.map(a,function(a){return(e?b:a[b]).apply(a,d)})},c.pluck=function(a,b){return c.map(a,c.property(b))},c.where=function(a,b){return c.filter(a,c.matches(b))},c.findWhere=function(a,b){return c.find(a,c.matches(b))},c.max=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);var e=-(1/0),f=-(1/0);return w(a,function(a,c,g){var h=b?b.call(d,a,c,g):a;h>f&&(e=a,f=h)}),e},c.min=function(a,b,d){if(!b&&c.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);var e=1/0,f=1/0;return w(a,function(a,c,g){var h=b?b.call(d,a,c,g):a;f>h&&(e=a,f=h)}),e},c.shuffle=function(a){var b,d=0,e=[];return w(a,function(a){b=c.random(d++),e[d-1]=e[b],e[b]=a}),e},c.sample=function(a,b,d){return null==b||d?(a.length!==+a.length&&(a=c.values(a)),a[c.random(a.length-1)]):c.shuffle(a).slice(0,Math.max(0,b))};var z=function(a){return null==a?c.identity:c.isFunction(a)?a:c.property(a)};c.sortBy=function(a,b,d){return b=z(b),c.pluck(c.map(a,function(a,c,e){return{value:a,index:c,criteria:b.call(d,a,c,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var A=function(a){return function(b,c,d){var e={};return c=z(c),w(b,function(f,g){var h=c.call(d,f,g,b);a(e,h,f)}),e}};c.groupBy=A(function(a,b,d){c.has(a,b)?a[b].push(d):a[b]=[d]}),c.indexBy=A(function(a,b,c){a[b]=c}),c.countBy=A(function(a,b){c.has(a,b)?a[b]++:a[b]=1}),c.sortedIndex=function(a,b,c,d){c=z(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},c.toArray=function(a){return a?c.isArray(a)?g.call(a):a.length===+a.length?c.map(a,c.identity):c.values(a):[]},c.size=function(a){return null==a?0:a.length===+a.length?a.length:c.keys(a).length},c.first=c.head=c.take=function(a,b,c){return null!=a?null==b||c?a[0]:0>b?[]:g.call(a,0,b):void 0},c.initial=function(a,b,c){return g.call(a,0,a.length-(null==b||c?1:b))},c.last=function(a,b,c){return null!=a?null==b||c?a[a.length-1]:g.call(a,Math.max(a.length-b,0)):void 0},c.rest=c.tail=c.drop=function(a,b,c){return g.call(a,null==b||c?1:b)},c.compact=function(a){return c.filter(a,c.identity)};var B=function(a,b,d){return b&&c.every(a,c.isArray)?h.apply(d,a):(w(a,function(a){c.isArray(a)||c.isArguments(a)?b?f.apply(d,a):B(a,b,d):d.push(a)}),d)};c.flatten=function(a,b){return B(a,b,[])},c.without=function(a){return c.difference(a,g.call(arguments,1))},c.partition=function(a,b){var c=[],d=[];return w(a,function(a){(b(a)?c:d).push(a)}),[c,d]},c.uniq=c.unique=function(a,b,d,e){c.isFunction(b)&&(e=d,d=b,b=!1);var f=d?c.map(a,d,e):a,g=[],h=[];return w(f,function(d,e){(b?e&&h[h.length-1]===d:c.contains(h,d))||(h.push(d),g.push(a[e]))}),g},c.union=function(){return c.uniq(c.flatten(arguments,!0))},c.intersection=function(a){var b=g.call(arguments,1);return c.filter(c.uniq(a),function(a){return c.every(b,function(b){return c.contains(b,a)})})},c.difference=function(a){var d=h.apply(b,g.call(arguments,1));return c.filter(a,function(a){return!c.contains(d,a)})},c.zip=function(){for(var a=c.max(c.pluck(arguments,"length").concat(0)),b=new Array(a),d=0;a>d;d++)b[d]=c.pluck(arguments,""+d);return b},c.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},c.indexOf=function(a,b,d){if(null==a)return-1;var e=0,f=a.length;if(d){if("number"!=typeof d)return e=c.sortedIndex(a,b),a[e]===b?e:-1;e=0>d?Math.max(0,f+d):d}if(r&&a.indexOf===r)return a.indexOf(b,d);for(;f>e;e++)if(a[e]===b)return e;return-1},c.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(s&&a.lastIndexOf===s)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},c.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f};var C=function(){};c.bind=function(a,b){var d,e;if(v&&a.bind===v)return v.apply(a,g.call(arguments,1));if(!c.isFunction(a))throw new TypeError;return d=g.call(arguments,2),e=function(){if(!(this instanceof e))return a.apply(b,d.concat(g.call(arguments)));C.prototype=a.prototype;var c=new C;C.prototype=null;var f=a.apply(c,d.concat(g.call(arguments)));return Object(f)===f?f:c}},c.partial=function(a){var b=g.call(arguments,1);return function(){for(var d=0,e=b.slice(),f=0,g=e.length;g>f;f++)e[f]===c&&(e[f]=arguments[d++]);for(;d<arguments.length;)e.push(arguments[d++]);return a.apply(this,e)}},c.bindAll=function(a){var b=g.call(arguments,1);if(0===b.length)throw new Error("bindAll must be passed function names");return w(b,function(b){a[b]=c.bind(a[b],a)}),a},c.memoize=function(a,b){var d={};return b||(b=c.identity),function(){var e=b.apply(this,arguments);return c.has(d,e)?d[e]:d[e]=a.apply(this,arguments)}},c.delay=function(a,b){var c=g.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},c.defer=function(a){return c.delay.apply(c,[a,1].concat(g.call(arguments,1)))},c.throttle=function(a,b,d){var e,f,g,h=null,i=0;d||(d={});var j=function(){i=d.leading===!1?0:c.now(),h=null,g=a.apply(e,f),e=f=null};return function(){var k=c.now();i||d.leading!==!1||(i=k);var l=b-(k-i);return e=this,f=arguments,0>=l?(clearTimeout(h),h=null,i=k,g=a.apply(e,f),e=f=null):h||d.trailing===!1||(h=setTimeout(j,l)),g}},c.debounce=function(a,b,d){var e,f,g,h,i,j=function(){var k=c.now()-h;b>k?e=setTimeout(j,b-k):(e=null,d||(i=a.apply(g,f),g=f=null))};return function(){g=this,f=arguments,h=c.now();var k=d&&!e;return e||(e=setTimeout(j,b)),k&&(i=a.apply(g,f),g=f=null),i}},c.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},c.wrap=function(a,b){return c.partial(b,a)},c.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},c.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},c.keys=function(a){if(!c.isObject(a))return[];if(u)return u(a);var b=[];for(var d in a)c.has(a,d)&&b.push(d);return b},c.values=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;d>f;f++)e[f]=a[b[f]];return e},c.pairs=function(a){for(var b=c.keys(a),d=b.length,e=new Array(d),f=0;d>f;f++)e[f]=[b[f],a[b[f]]];return e},c.invert=function(a){for(var b={},d=c.keys(a),e=0,f=d.length;f>e;e++)b[a[d[e]]]=d[e];return b},c.functions=c.methods=function(a){var b=[];for(var d in a)c.isFunction(a[d])&&b.push(d);return b.sort()},c.extend=function(a){return w(g.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},c.pick=function(a){var c={},d=h.apply(b,g.call(arguments,1));return w(d,function(b){b in a&&(c[b]=a[b])}),c},c.omit=function(a){var d={},e=h.apply(b,g.call(arguments,1));for(var f in a)c.contains(e,f)||(d[f]=a[f]);return d},c.defaults=function(a){return w(g.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a},c.clone=function(a){return c.isObject(a)?c.isArray(a)?a.slice():c.extend({},a):a},c.remove=function(a,b){return delete a[b],a},c.tap=function(a,b){return b(a),a};var D=function(a,b,d,e){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof c&&(a=a._wrapped),b instanceof c&&(b=b._wrapped);var f=i.call(a);if(f!=i.call(b))return!1;switch(f){case"[object String]":return a==J(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=d.length;g--;)if(d[g]==a)return e[g]==b;var h=a.constructor,j=b.constructor;if(h!==j&&!(c.isFunction(h)&&h instanceof h&&c.isFunction(j)&&j instanceof j)&&"constructor"in a&&"constructor"in b)return!1;d.push(a),e.push(b);var k=0,l=!0;if("[object Array]"==f){if(k=a.length,l=k==b.length)for(;k--&&(l=D(a[k],b[k],d,e)););}else{for(var m in a)if(c.has(a,m)&&(k++,!(l=c.has(b,m)&&D(a[m],b[m],d,e))))break;if(l){for(m in b)if(c.has(b,m)&&!k--)break;l=!k}}return d.pop(),e.pop(),l};c.isEqual=function(a,b){return D(a,b,[],[])},c.isEmpty=function(a){if(null==a)return!0;if(c.isArray(a)||c.isString(a))return 0===a.length;for(var b in a)if(c.has(a,b))return!1;return!0},c.isElement=function(a){return!(!a||1!==a.nodeType)},c.isArray=t||function(a){return"[object Array]"==i.call(a)},c.isObject=function(a){return a===Object(a)},w(["Arguments","Function","String","Number","Date","RegExp"],function(a){c["is"+a]=function(b){return i.call(b)=="[object "+a+"]"}}),c.isArguments(arguments)||(c.isArguments=function(a){return!(!a||!c.has(a,"callee"))}),"function"!=typeof/./&&(c.isFunction=function(a){return"function"==typeof a}),c.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},c.isNaN=function(a){return c.isNumber(a)&&a!=+a},c.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==i.call(a)},c.isNull=function(a){return null===a},c.isUndefined=function(a){return void 0===a},c.has=function(a,b){return j.call(a,b)},c.identity=function(a){return a},c.constant=function(a){return function(){return a}},c.property=function(a){return function(b){return b[a]}},c.matches=function(a){return function(b){if(b===a)return!0;for(var c in a)if(a[c]!==b[c])return!1;return!0}},c.times=function(a,b,c){for(var d=Array(Math.max(0,a)),e=0;a>e;e++)d[e]=b.call(c,e);return d},c.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},c.now=Date.now||function(){return(new Date).getTime()};var E={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};E.unescape=c.invert(E.escape);var F={escape:new RegExp("["+c.keys(E.escape).join("")+"]","g"),unescape:new RegExp("("+c.keys(E.unescape).join("|")+")","g")};c.each(["escape","unescape"],function(a){c[a]=function(b){return null==b?"":(""+b).replace(F[a],function(b){return E[a][b]})}}),c.result=function(a,b){if(null!=a){var d=a[b];return c.isFunction(d)?d.call(a):d}},c.mixin=function(a){w(c.functions(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),L.call(this,d.apply(c,a))}})};var G=0;c.uniqueId=function(a){var b=++G+"";return a?a+b:b},c.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;c.template=function(a,b,d){var e;d=c.defaults({},d,c.templateSettings);var f=new RegExp([(d.escape||H).source,(d.interpolate||H).source,(d.evaluate||H).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(f,function(b,c,d,e,f){return h+=a.slice(g,f).replace(K,function(a){return"\\"+I[a]}),c&&(h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(h+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(h+="';\n"+e+"\n__p+='"),g=f+b.length,b}),h+="';\n",d.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{e=new Function(d.variable||"obj","_",h)}catch(i){throw i.source=h,i}if(b)return e(b,c);var j=function(a){return e.call(this,a,c)};return j.source="function("+(d.variable||"obj")+"){\n"+h+"}",j},c.chain=function(a){return c(a).chain()};var L=function(a){return this._chain?c(a).chain():a};c.mixin(c),w(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var d=b[a];c.prototype[a]=function(){var b=this._wrapped;return d.apply(b,arguments),"shift"!=a&&"splice"!=a||0!==b.length||delete b[0],L.call(this,b)}}),w(["concat","join","slice"],function(a){var d=b[a];c.prototype[a]=function(){return L.call(this,d.apply(this._wrapped,arguments))}}),c.extend(c.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);var d="//tracker.routecdn.com",e="08-09-2016 17:46",f="//www.routecdn.com/tracker/route-form-tracker-min.js",g="//www.routecdn.com/visualmode/route-visualmode-tracker.js",h="//www.routecdn.com/visualmode/route-eventsattacher-tracker.js",i="_rtq_c",j="_rtq_c_s",k="_rtq_c_i",l=1314e6,m=3,n="__rtq_utmz",o="_rtq_auf",p="_rtq_auf_x",q="__rtqc",r="__rtqe",s="rtq",t="data-organization-id",u="data-source",v="rtracker",w="__rtq_ev_md",x="rvisual",y="[Route] Argument missing. {0} must be provided.",z=[],A=!0,B=!1,C=!1,D=D||{};(function(){this.clearContact=this.clearCurrentContact=this.clearIdentifiedContact=function(a,b,c){E.clearCurrentContact()},this.identify=function(a,b,c){this.setContact(a,b,c)},this.isContactIdentified=function(a){return c.isFunction(a)?void a.call(this,E.isContactIdentified()):(console.log(E.isContactIdentified()),!1)},this.getContactAttributes=function(a,b){return c.isEmpty(a)?(console.error("[Route] Attribute value not provided."),null):(c.isArray(a)||(a=[a]),void E.getContactAttributes(a,b))},this.getContactEvent=function(a,b){return c.isEmpty(a)?(console.error("[Route] Event value not provided."),null):(c.isString(a)&&(a={name:a}),c.isUndefined(a.id)&&c.isUndefined(a.name)?(console.error("[Route] Event id or Event name value not provided."),null):void E.getContactEvent(a,b))},this.setContact=function(a,b,d){if(c.isEmpty(a))return void console.warn("[Route] Contact email not provided.");var e={};return c.isString(a)&&(e.email=a),c.isObject(a)&&(e=c.extend(e,a),e.Email&&(e.email=e.Email),c.isEmpty(e.email)&&!E.isContactIdentified())?void console.warn("[Route] Contact email not provided."):(c.isObject(b)&&(e=c.extend(e,b)),c.isFunction(b)&&(d=b),(c.has(e,"company")||c.has(e,"Company"))&&(c.isString(e.company)&&!c.isEmpty(e.company)&&(e.Company={Name:e.company},delete e.company),c.isString(e.Company)&&!c.isEmpty(e.Company)&&(e.Company={Name:e.Company})),c.has(e,"phone")&&(c.isString(e.phone)&&!c.isEmpty(e.phone)&&(e.phones=[e.phone]),delete e.phone),void E.updateContact(e,d))},this.track=function(a,b,c){this.trackEvent(a,b,c)},this.trackById=function(a,b,c){this.trackEventById(a,b,c)},this.trackEvent=function(a,b,d){if(!a)throw new Error(J.format(y,"Event name"));var e={eventName:a};c.isFunction(b)&&(d=b,b=null),c.isObject(b)&&!c.isEmpty(b)&&(e.attributes=b),E.trackEvent(e,d)},this.trackEventById=function(a,b,d){if(!a)throw new Error(J.format(y,"Event id"));var e={eventId:a};c.isFunction(b)&&(d=b,b=null),c.isObject(b)&&(e.attributes=b),E.trackEvent(e,d)},this.updateContact=function(a,b,c){this.setContact(a,b,c)}}).apply(D);var E={};(function(){function a(){var a=new I(s),b=a.getObject(o),d=a.get(p);return c.isUndefined(b)||c.isEmpty(d)||c.now()>parseInt(d,10)?void 0:b}function b(){var a=new I(s),b=a.get(i);return c.isEmpty(b)&&(b=H.get(i),c.isEmpty(b)||(a.set(i,b),this.setContactAsIdentified())),b}this.clearCurrentContact=function(){var a=new I(s);a.remove(k),a.remove(i),console.log("[Route] Current contact was cleared.")},this.createContact=function(a,b){B=!0,a=a||{};var f=new I(s);f.setObject(j,a);var g=c.extend({},{lastReleaseDate:e,organizationId:K.getOrganizationId(),email:a.email},M.getGoogleCampaingValues(),L.getBrowserInfo());delete a.email,c.keys(a).length&&(g.attributes=J.serializeJSON(a)),new F(g.email?{method:"POST",type:"XHR",url:J.format("{0}/contacts/identify?organizationId={1}",d,g.organizationId),data:g,callback:function(a){if(B=!1,a.error&&a.responseJSON&&a.responseJSON.Message)return void console.log(J.format("[Route] Error creating contact. Message: {0}",a.responseJSON.Message));if(!c.isEmpty(a.responseJSON.errors)){var d=a.responseJSON.errors;console.log("[Route] The contact was created but some errors happened.");for(var e=0;e<d.length;e++)console.log("[Route] "+d[e])}G.setContactAsIdentified.call(this,a),c.isFunction(b)&&b.call(this)}}:{method:"POST",type:"XHR",url:J.format("{0}/contacts/anonymous?organizationId={1}",d,g.organizationId),data:g,callback:function(a){if(B=!1,a.error&&a.responseJSON&&a.responseJSON.Message)return void console.log(J.format("[Route] Error creating anonymous contact. Message: {0}",a.responseJSON.Message));if(!c.isEmpty(a.responseJSON.errors)){var d=a.responseJSON.errors;console.log("[Route] The contact was created but some errors happened.");for(var e=0;e<d.length;e++)console.log("[Route] "+d[e])}c.isFunction(b)&&b.call(this)}})},this.createUtmzForQuery=function(){var a=H.get(n);if(c.isEmpty(a)){var b=K.parseQueryString(L.resource(!1));if(0!==c.size(b)){var d={utm_source:"utmcsr",utm_campaign:"utmccn",utm_medium:"utmcmd",utm_term:"utmctr",utm_content:"utmcct"},e="";c.each(c.keys(d),function(a){c.has(b,a)&&!c.isEmpty(b[a])&&(e+=d[a]+"="+b[a]+"|")}),c.isEmpty(e)||H.set(n,J.format("0.{0}.1.{1}",L.timestampInSeconds(),e))}}},this.currentData=function(){var a={lastReleaseDate:e,contactId:b(),organizationId:K.getOrganizationId()};return a},this.identifyByQueryContact=function(){var a=K.parseQueryString(L.resource(!1)),c=a[q],d=a[r];b();c?G.setContactAsIdentified({responseJSON:{id:c}}):d&&D.identify(d)},this.isContactIdentified=function(){var a=new I(s),b=a.get(k);return(c.isNull(b)||c.isUndefined(b))&&(b=H.get(k)),"1"===b},this.getContactAttributes=function(a,b){if(!this.isContactIdentified())return console.warn("[Route] The contact must be identified to use this method."),null;var e=c.extend({},{attributes:a},this.currentData());new F({method:"POST",type:"XHR",url:J.format("{0}/contacts/GetAttributes?organizationId={1}",d,e.organizationId),data:e,callback:function(a){return a.error&&a.responseJSON&&a.responseJSON.Message?(console.error(J.format("[Route] Error getting contact attribute. Message: {0}",a.responseJSON.Message)),null):(a.responseJSON||console.warn(J.format("[Route] Contact attribute not found.")),void(c.isFunction(b)&&b.call(this,a.responseJSON)))}})},this.getContactEvent=function(a,b){if(!this.isContactIdentified())return console.warn("[Route] The contact must be identified to use this method."),null;var e=this.currentData();a.id?e.eventId=a.id:e.eventName=a.name,new F({method:"POST",type:"XHR",url:J.format("{0}/contacts/GetEvent?organizationId={1}",d,e.organizationId),data:e,callback:function(a){return a.error&&a.responseJSON&&a.responseJSON.Message?(console.error(J.format("[Route] Error getting contact event. Message: {0}",a.responseJSON.Message)),null):(a.responseJSON||console.warn(J.format("[Route] Contact event not found.")),void(c.isFunction(b)&&b.call(this,a.responseJSON)))}})},this.setContactAsIdentified=function(){var a=new I(s);a.set(k,1),a.remove(j)},this.trackEvent=function(a,b){var d=this.currentData();c.extend(d,a,K.getBrowserInfo()),a.attributes&&!c.isEmpty(a.attributes)&&(d.attributes=J.serializeJSON(a.attributes));var e=!c.isEmpty(d.contactId)&&24===d.contactId.length&&this.isContactIdentified();return e?void this.trackEventForContactIdentified(d,b):void this.trackEventForContactAnonymous(d,b)},this.trackEventForContactAnonymous=function(a,b){new F({method:"POST",type:"XHR",url:J.format("{0}/contacts/anonymous?organizationId={1}",d,a.organizationId),data:JSON.stringify(a),contentType:"application/json",callback:function(a){return a.error&&a.responseJSON&&a.responseJSON.Message?void console.log(J.format("[Route] Error sending event. Message: {0}",a.responseJSON.Message)):(a.responseJSON&&a.responseJSON.id&&G.setContactAsIdentified(a),void(c.isFunction(b)&&b.call(this)))}})},this.trackEventForContactIdentified=function(a,b){var e=a.eventId?"eventById":"event",f=K.getScriptSource();f&&(a.source=f),new F({method:"GET",type:"GIF",url:J.format("{0}/track/{1}",d,e),data:a,callback:function(){c.isFunction(b)&&b.call(this)}})},this.SendAsyncContact=function(){var a=new I(s),b=a.getObject(j);c.isNull(b)||c.isUndefined(b)||this.updateContact(b)},this.trackPageView=function(){var b=a();if(c.isUndefined(b))return void new F({method:"GET",type:"XHR",url:J.format("{0}/track/pageviews?organizationId={1}",d,K.getOrganizationId()),callback:function(a){if(a.responseText){var b=new I(s);b.set(o,a.responseText);var d=new Date(c.now());d.setHours(d.getHours()+m),b.set(p,d.valueOf()),E.trackPageView()}}});var e=L.resource(!1),f=-1!==e.indexOf("?")?e.indexOf("?"):e.length,g=e.substring(0,f),h={};(function(){function a(a){return c.isUndefined(a)?!0:(a=J.removeLastSlash(a),"all"===a||-1!==g.indexOf(a))}function b(a){E.trackEvent({eventId:a})}this.home=function(c){a(c.Url)&&g===L.resourceRoot()&&b(c.Id)},this.contains=function(c){return c.Text&&a(c.Url)&&-1!==e.indexOf(c.Text)?void b(c.Id):c.Url&&-1!==e.indexOf(c.Url)?void b(c.Id):void 0},this.equals=function(a){a.Url&&a.Url===e&&b(a.Id)},this.startswith=function(c){var d=g+c.Text;a(c.Url)&&-1!==e.indexOf(d)&&b(c.Id)}}).apply(h),c.each(b,function(a){c.isFunction(h[a.Operation])&&h[a.Operation](a)})},this.updateContact=function(a,b){if(!B){B=!0,a=a||{};var e=c.extend({},this.currentData(),M.getGoogleCampaingValues(),L.getBrowserInfo());if(a.email&&(e.email=a.email),!e.contactId)return void E.createContact(a,b);var f=new I(s);f.setObject(j,a),delete a.email,c.keys(a).length&&(e.attributes=J.serializeJSON(a)),new F({method:"POST",type:"XHR",url:J.format("{0}/contacts/identify?organizationId={1}",d,e.organizationId),data:e,callback:function(a){if(B=!1,a.error&&a.responseJSON&&a.responseJSON.Message)return void console.log(J.format("[Route] Error updating contact. Message: {0}",a.responseJSON.Message));if(!c.isEmpty(a.responseJSON.errors)){var d=a.responseJSON.errors;console.log("[Route] The contact was updated but some errors happened.");for(var e=0;e<d.length;e++)console.log("[Route] "+d[e])}G.setContactAsIdentified.call(this,a),c.isFunction(b)&&b.call(this)}})}},this.injectDependencies=function(){var a=[{tagName:"script",attributes:{async:"",id:"rform",src:f}},{tagName:"script",attributes:{async:"",id:"rattacher",src:h}}];c.each(a,function(a){var b=document.createElement(a.tagName),d=c.keys(a.attributes);c.each(d,function(c){b.setAttribute(c,a.attributes[c])});var e=document.getElementsByTagName(a.tagName)[0];if(!e)throw new Error(J.format("[Route] No {0} element found.",a.tagName));e.parentNode.insertBefore(b,e)})}}).apply(E);var F=function(a){this.options=c.extend({},{data:"",headers:{}},a),this.send()};c.extend(F.prototype,{_getRequestType:function(){return this.options.type},_getXHR:function(){if(!c.isUndefined(a.XDomainRequest))return new a.XDomainRequest;if(!(c.isUndefined(a.XMLHttpRequest)||"file:"===a.location.protocol&&a.ActiveXObject))return new a.XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(b){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(b){}return!1},_setXHRHeaders:function(a){var b=this.options;b.contentType&&(b.headers["Content-Type"]=b.contentType);var d={Accept:"text/javascript, application/json, text/html, application/xml, text/xml, */*","Content-Type":"application/x-www-form-urlencoded"};return b.headers=c.extend({},d,b.headers),a.setRequestHeader&&c.each(b.headers,function(b,c){a.setRequestHeader(c,b)}),a.withCredentials=!0,a},_callback:function(b,d){var e={};if(c.isObject(b)&&c.isNumber(b.status)&&c.isString(b.responseText)){(b.status<200||b.status>299)&&(e.error=!0);var f=b.mimeType||b.getResponseHeader("content-type")||"";e.status=b.status,e.responseText=b.responseText,/json/.test(f)&&(e.responseJSON=J.parseJSON(b.responseText))}c.isFunction(d.callback)&&d.callback.call(a,e,d)},send:function(){var a=this._getRequestType(),b=this["send"+a];c.isFunction(b)&&b.call(this)},sendGIF:function(){var a=this.options;a.data&&(a.url+=a.url.indexOf("?")>-1?"&":"?",a.url+=J.serialize(a.data));var b=new Image(1,1);b.src=a.url,c.isFunction(a.callback)&&a.callback.call(this,a)},sendXHR:function(){var a=this._getXHR(),b=this._callback,d=this.options;a.open(d.method,d.url,!0),a=this._setXHRHeaders(a),a.onreadystatechange=function(c){4===a.readyState&&b(a,d)},c.isString(d.data)||(d.data=J.serialize(d.data));try{a.send(d.data)}catch(e){c.isFunction(d.error)&&d.error.apply(e)}}});var G={};(function(){this.apply=function(){var a,b,d=arguments;c.each(d,function(d){return a=d.shift(),c.isString(a)&&c.has(D,a)?(b=B&&!c.contains(["identify","setContact","updateContact"],a))?void z.push(function(){D[a].apply(D,d)}):void D[a].apply(D,d):void 0})},this.applyAsync=function(){var a,b=arguments;_each(b,function(b){a=b.shift(),a.apply(D,b)})},this.setContactAsIdentified=function(a){if(a.responseJSON){var b=new I(s);b.set(i,a.responseJSON.id),E.setContactAsIdentified(),H["delete"](n)}C=!1,G.runAsyncTasks()},this.runAsyncTasks=function(){c.each(z,function(a){a.apply()}),z=[]}}).apply(G);var H={};(function(){this["delete"]=function(a){this.set(a,"",-1)},this.get=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return unescape(e.substring(b.length,e.length))}return null},this.set=function(a,b,c){var d,e="";if(a=J.escape(a),c){d=new Date;var f=-1!=c?d.setTime(d.getTime()+1e3*c).toGMTString():"Thu, 01 Jan 1970 00:00:00 GMT";e="; expires="+f}e+=";path=/;";var g=K.getDomain();g&&(-1!=g.indexOf("www.")&&(g=g.replace("www.","")),e+="domain=."+g+";"),document.cookie=a+"="+b+e}}).apply(H);var I=function(){var b=4e3,d=4194304,e=e||function(){return{getItem:function(a){return H.get(a)},setItem:function(a,b,c){return H.set(a,b,l)},removeItem:function(a){return H["delete"](a)},getLimitSize:function(){return b}}},f=new e;try{"localStorage"in a&&void 0!==a.localStorage&&(f=a.localStorage)}catch(g){}return function(a){return a||(a=""),{get:function(b){var c=f.getItem(a+"-"+b);if("null"===c)return null;if("undefined"!==c)return c},getObject:function(a){var b=this.get(a);return b?J.parseJSON(b):void 0},set:function(b,c,d){return f.setItem(a+"-"+b,c,d)},setObject:function(b,c,d){return f.setItem(a+"-"+b,JSON.stringify(c),d)},remove:function(b){return c.isEmpty(this.get(b))?void 0:f.removeItem(a+"-"+b)},getLimitSize:function(){return c.has(f,"getLimitSize")?f.getLimitSize():d}}}}(),J={};(function(){this.containsIgnoreCase=function(a,b){return c.isString(a)&&c.isString(b)&&""!==a?a.toUpperCase().indexOf(b.toUpperCase())>-1:!1},this.escape=function(a){return"function"==typeof encodeURIComponent?encodeURIComponent(a):escape(a)},this.format=function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,d){return c.isUndefined(b[d])?a:b[d]})},this.parseJSON=function(b){return c.isString(b)?(b=J.trim(b),a.JSON&&a.JSON.parse?a.JSON.parse(b):new Function("return "+b)()):null},this.removeLastSlash=function(a){return"/"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},this.serialize=function(a){if(!a)return"";if(c.isString(a))return a;var b=[],d="{0}={1}";for(var e in a){var f=a[e];c.isArray(f)?c.each(f,function(a){b.push(J.format(d,J.escape(e),J.escape(a)))}):b.push(J.format(d,J.escape(e),J.escape(f)))}return b.join("&")},this.serializeJSON=function(b){return c.isString(b)?b:a.JSON&&a.JSON.stringify?a.JSON.stringify(b):null},this.trim=function(a){var b="".trim;return b?a.trim():a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}).apply(J);var K={};(function(){var b;this.getDomain=function(){return-1===a.location.host.indexOf(".")?"":a.location.host},this.getOrganizationId=function(){if(!b){var a=this.getTrackerElement();if(b=a.getAttribute(t),!b)throw new Error(J.format("The tracker element must have the '{0}' attribute.",t))}return b},this.getScriptSource=function(){return this.getTrackerElement().getAttribute(u)||void 0},this.getBrowserInfo=function(){return{browserx:L.browserWidth(),browsery:L.browserHeight(),rdn:Math.floor(1000000001*Math.random()),referrer:L.referrer(),screenx:L.screenWidth(),timestamp:L.timestamp(),title:L.title(),userAgent:L.agent()}},this.getTrackerElement=function(){var b=a.document.getElementById(v);if(!b)throw new Error(J.format("This script should be imported by a script tag with id attribute set to '{0}'.",v));return b},this.isElementHidden=function(a){return null===a.offsetParent},this.parseQueryString=function(a){var b={};if(a){var c=a.indexOf("?");c>-1&&(a=a.substr(c+1));var d=a.indexOf("#");d>-1&&(a=a.substr(0,d));for(var e=a.split("&"),f=0;f<e.length;f++){var g=e[f].split("=");2==g.length&&(b[g[0]]=decodeURIComponent(g[1].replace(/\+/g," ")))}return b}},this.getUrlWithoutQueryString=function(a){var b=["?","#"];return c.each(b,function(b){var c=a.indexOf(b);c>-1&&(a=a.substr(0,c))}),a},this.returnValueOrNull=function(a){return void 0===a||""===a?null:a},this.extendByDotNotation=function(a,b,c){this.isBoolean(c)?c=this.parseBoolean(c):this.isDate(c)?c=this.parseDate(c):this.isFloat(c)?c=this.parseFloat(c):this.isInteger(c)&&(c=this.parseInteger(c));for(var d=a,e=b.split("."),f=0;f<e.length;f++){var g=f==e.length-1;g?a[e[f]]=c:(a[e[f]]=a[e[f]]||{},a=a[e[f]])}return d},this.isBoolean=function(a){return"string"==typeof a&&/^(?:true|false)$/.test(a)},this.isDate=function(a){return void 0!=this.parseDate(a)},this.isFloat=function(a){return void 0!=this.parseFloat(a)},this.isInteger=function(a){return void 0!=this.parseInteger(a)},this.parseBoolean=function(a){return"true"===a},this.parseDate=function(a){if("string"==typeof a&&/^(?:[0-9]{1,4}-[0-9]{1,2}-[0-9]{1,4}|[0-9]{1,4}\/[0-9]{1,2}\/[0-9]{1,4})$/.test(a))try{var b=new Date(a);return isNaN(b)?void 0:b}catch(c){return}},this.parseFloat=function(a){
if("string"==typeof a&&/^\-?(?:[0-9]+\.[0-9]+|[0-9]+\,[0-9]+|[0-9]+\.[0-9]+\,[0-9]+|[0-9]+\,[0-9]+\.[0-9]+)$/.test(a)){var b=a.indexOf("."),c=a.indexOf(",");if(-1!=c||-1!=b){c>-1&&b>-1?a=c>b?a.replace(/\./g,"").replace(/\,/g,"."):a.replace(/\,/g,""):c>-1&&(a=a.replace(/\,/g,"."));try{var d=parseFloat(a);return isNaN(d)?void 0:d}catch(e){return}}}},this.parseInteger=function(a){if("string"==typeof a&&/^\-?[0-9]+$/.test(a))try{var b=parseInt(a);if(isNaN(b)||a!=b.toString())return;return b}catch(c){return}}}).apply(K);var L={};(function(){this.agent=function(){return navigator.userAgent},this.browserDimensions=function(){var b={};try{"number"==typeof a.innerWidth?(b.width=a.innerWidth,b.height=a.innerHeight):document.documentElement&&document.documentElement.clientWidth?(b.width=document.documentElement.clientWidth,b.height=document.documentElement.clientHeight):document.body&&document.body.clientWidth&&(b.width=document.body.clientWidth,b.height=document.body.clientHeight)}catch(c){}return b},this.browserHeight=function(){return this.browserDimensions().height},this.browserWidth=function(){return this.browserDimensions().width},this.domain=function(){return a.location.hostname},this.language=function(){return navigator.language||navigator.userLanguage},this.resource=function(a){return a?J.escape(document.location.href):document.location.href},this.resourceRoot=function(b){var c=document.location.origin;return c||(c=a.location.protocol+"//"+a.location.hostname+(a.location.port?":"+a.location.port:"")),b&&(c=J.escape(c)),c+"/"},this.referrer=function(){var a="";return A?(A=!1,a=document.referrer,(top||parent)&&(a=(top||parent).document.referrer),J.escape(a)):a},this.screenHeight=function(){try{return screen.height}catch(a){return 0}},this.screenWidth=function(){try{return screen.width}catch(a){return 0}},this.timestamp=function(){return(new Date).getTime()},this.timestampInSeconds=function(){return Date.now()/1e3|0},this.timeZone=function(){return-(new Date).getTimezoneOffset()},this.title=function(){return document.title?J.escape(document.title):""},this.getBrowserInfo=function(a){var b=a||{};return b.language=L.language(),b.timeZone=L.timeZone(),b}}).apply(L);var M={};(function(){var a;this.campaignName=function(){return K.returnValueOrNull(this.variables().campaignName)},this.campaignNumber=function(){return K.returnValueOrNull(this.variables().campaignNumber)},this.content=function(){return K.returnValueOrNull(this.variables().content)},this.createGoogleCookie=function(){H.set("__utmz","101039106.1410902549.9.2.utmgclid=CNLbrcnV5sACFShp7AodhH4Aig|utmccn=X-Pesquisa-RedeHost|utmcmd=(not%20set)|utmctr=(not%20provided)|utmcct=1-RedeHost",l)},this.getGoogleCampaingValues=function(a){var b=a||{};if(null!==H.get(n)){var c=M.source(),d=M.campaignName(),e=M.content(),f=M.medium(),g=M.term(),h=M.campaignNumber(),i=M.session(),j=M.timeStamp();c&&(b.campaignSource=c),d&&(b.campaignName=d),e&&(b.campaignContent=e),f&&(b.campaignMedium=f),g&&(b.campaignTerm=g),h&&(b.campaignNumber=h),i&&(b.campaignSession=i),j&&(b.campaignTimeStamp=j)}return b},this.medium=function(){return K.returnValueOrNull(this.variables().medium)},this.session=function(){return K.returnValueOrNull(this.variables().session)},this.source=function(){return K.returnValueOrNull(this.variables().source)},this.term=function(){return K.returnValueOrNull(this.variables().term)},this.timeStamp=function(){var a=K.returnValueOrNull(this.variables().timeStamp);return a&&(a=1e3*a),a},this.variables=function(){if(a)return a;var b,c,d,e={},f={utmcsr:"source",utmccn:"campaignName",utmcmd:"medium",utmctr:"term",utmcct:"content"},g=H.get(n);if(null===g)return e;g.indexOf("utmgclid")&&(e[f.utmcsr]="google",e[f.utmcmd]="cpc"),b=g.substring(0,g.indexOf("u")),c=g.substring(g.indexOf("u"),g.length),d=b.split("."),e.domainHash=d[0],e.timeStamp=d[1],e.session=d[2],e.campaignNumber=d[3];for(var h=c.split("|"),i=0;i<h.length;i++)d=h[i].split("="),e[f[d[0]]]=d[1];return a=e}}).apply(M);var N={};(function(){function a(a,b){var c;return c="function"==typeof window.getComputedStyle?window.getComputedStyle(a):void 0!==typeof document.currentStyle?a.currentStyle:a.style,b?c[b]:c}var b=function(a){return a};this.isNode=function(a){return"object"==typeof Node?a instanceof Node:a&&"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName},this.findByClass=function(a){return"."==a.substring(0,1)&&(a=a.substring(1)),document.getElementsByClassName?document.getElementsByClassName(a):document.querySelector&&document.querySelectorAll?document.querySelectorAll("."+a):void 0},this.findById=function(a){return document.getElementById(a)},this.findByTagName=function(a){return document.getElementsByTagName(a)},this.findAllByQuery=function(a){if(!c.isString(a))return null;var b=document.querySelectorAll(a);return b&&0!=b.length?b:null},this.findAllBySeletor=function(a){if(c.isString(a))return document.querySelector(a);if(!c.has(a,"query")&&!c.has(a,"text"))return null;var b=document.querySelectorAll(a.query);if(!b||0==b.length)return null;var d=c.filter(b,function(b){if(!a.text)return!0;var c=b.innerText||b.textContent;return J.trim(c.toLowerCase())===a.text.toLowerCase()});return d?d:[]},this.findBySeletor=function(a){if(c.isString(a))return document.querySelector(a);if(!c.has(a,"query")&&!c.has(a,"text"))return null;var b=this.findAllBySeletor(a);return b?1==b.length||c.isUndefined(a.elementPosition)?b[0]:b[a.elementPosition]:null},this.addClass=function(a,b){if(void 0===a)throw new Error("Dom.addClass first parameter cannot be undefined");if(!this.isNode(a))throw new Error(a+" is not a DOMNode object");if(c.isArray(b))for(var d in b)this.addClass(a,b[d]);var e=this.getClass(a);return-1===c.indexOf(e,b)&&e.push(b),e=e.join(" "),this.attribute(a,{"class":e})},this.attribute=function(a,b){if(!this.isNode(a))throw new Error(a+" is not a DOMNode object");if("string"==typeof b){var d;return d="class"===b&&void 0!==a.className?a.className:"for"===b&&void 0!==a.htmlFor?a.htmlFor:"value"===b&&void 0!==a.value?a.value:a.getAttribute(b),""===d&&(d=null),d}if(c.isArray(b)){var d={};for(var e in b)d[b[e]]=this.attribute(a,b[e]);return d}if(c.isObject(b)){for(var e in b)null===b[e]?a.removeAttribute(e):a.setAttribute(e,b[e]);return b}return!1},this.copy=function(a){if(!this.isNode(a))throw new Error("Dom.copy"+a+" is not a DOMNode object");return a.cloneNode(!0)},this.create=function(a,b){var d=document.createElement(a);return c.extend(d,b),d},this.css=function(d,e){if(!N.isNode(d))throw new Error(d+" is not a DOMNode object");if("string"==typeof e)return a(d,b(e));if(c.isArray(e)){var f={};for(var g in e)f[e[g]]=a(d,b(e[g]));return f}if(c.isObject(e)){for(var g in e)d.style.setProperty?d.style.setProperty(b(g),e[g],"important"):d.style.cssText+=J.format(";{0}:{1} !important;",b(g),e[g]);return e}return!1},this.offset=function(b){if(!c.isElement(b))return!1;var d=b.getBoundingClientRect(),e={top:Math.round(d.top),right:Math.round(d.right),bottom:Math.round(d.bottom),left:Math.round(d.left),width:d.width?Math.round(d.width):Math.round(b.offsetWidth),height:d.height?Math.round(d.height):Math.round(b.offsetHeight)};return e.width<=0&&(e.width=parseFloat(a(b,"width"))),e.height<=0&&(e.height=parseFloat(a(b,"height"))),e},this.getClass=function(a){if(!this.isNode(a))throw new Error(a+" is not a DOMNode object");var b=this.attribute(a,"class");if(!b)return[];b=b.split(" ");for(var c=[],d=0;d<b.length;d++)""!==b[d]&&c.push(b[d]);return c},this.getQuerySelector=function(a){if(!this.isNode(a))throw new Error("Dom.getQuerySelector "+a+" is not a DOMNode object");var b={elementPosition:0,query:a.tagName.toLowerCase()};c.contains(["a","button"],a.tagName.toLowerCase())&&(b.text=J.trim(a.innerText||a.textContent)),c.each(["id","name","value","type","class"],function(c){var d=a.getAttribute(c);d&&(b.query+=J.format('[{0}="{1}"]',c,d))});var d=this.findAllBySeletor(b);return 1==d.length?b:(b.elementPosition=c.indexOf(d,a),b)},this.hasClass=function(a,b){if(!this.isNode(a))throw new Error(a+" is not a DOMNode object");if(c.isString(b))return c.indexOf(this.getClass(a),b)>-1;if(c.isArray(b)){var d=this.getClass(a);for(var e in b)if(-1===c.indexOf(b[e],d))return!1;return!0}return!1},this.remove=function(a){if(!this.isNode(a))throw new Error("Dom.remove "+a+" is not a DOMNode object");var b=a.parentNode;return b.removeChild(a)},this.removeClass=function(a,b){if(void 0===a)throw new Error("Dom.removeClass first parameter cannot be undefined");if(!this.isNode(a))throw new Error("Dom.removeClass"+a+" is not a DOMNode object");if(!b)return this.attribute(a,{"class":null});var d=this.getClass(a),e=c.indexOf(d,b);return-1!==e?(d.splice(e,1),this.attribute(a,{"class":d.join(" ")})):void 0},this.onClick=function(a,b){this.addListener(a,"click",b)},this.onChange=function(a,b){this.addListener(a,"change",b)},this.onContextMenu=function(a,b){this.addListener(a,"contextmenu",b)},this.onKeyUp=function(a,b){this.addListener(a,"keyup",b)},this.addListener=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent(J.format("on{0}",b),c)}}).apply(N);var O={};(function(){function a(a){var b={src:g,id:x},c=N.create("script",b),d=N.findByTagName("script")[0];d.parentNode.insertBefore(c,d)}this.init=function(){var b=K.parseQueryString(L.resource(!1)),c=b[w];c&&H.set(w,c);var d=H.get(w);d&&a(d)}}).apply(O),c.isArray(_rq)&&c.each(_rq,function(a){G.apply(a)}),window._rq&&window._rq.isRouteObject||(window._rq=_rq=new b)}(window);
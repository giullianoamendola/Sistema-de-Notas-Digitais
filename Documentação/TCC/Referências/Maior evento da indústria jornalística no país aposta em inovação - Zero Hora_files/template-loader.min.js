!function(a){"use strict";var s=function(a){this.settings={},this.settings.tmpUrl="http://api.clicrbs.com.br/paywall-api/template/",this.settings.fileUrl=a.fileUrlBase?a.fileUrlBase:"http://www.clicrbs.com.br/sites/templates/",this.settings.product=a.product?a.product:409,this.settings.loadTo=a.loadTo?a.loadTo:"body",this.settings.templateName=a.templateName?a.templateName:"paywall",this.settings.data=a.data?a.data:[],this.settings.section=a.section?"&section="+a.section:"",this.loadFile()};s.prototype.loadFile=function(){var a=this,s=this.settings.fileUrl+this.settings.product+"/"+this.settings.templateName+".html",e=new XMLHttpRequest;e.open("GET",s),e.send(),e.onload=function(){e.status>=200&&e.status<400?(a.htmlTemplate=e.responseText,a.loadTemplate()):console.log(e.status,e.statusText)},e.ontimeout=function(){console.log({error:!0,type:"timeout",message:"Request fail, timeout."})}},s.prototype.loadTemplate=function(){var a=this,s=this.settings.tmpUrl+this.settings.templateName+"?product="+this.settings.product;s+=this.settings.section;var e=new XMLHttpRequest;e.open("GET",s),e.send(),e.onload=function(){if(e.status>=200&&e.status<400){var s=""!==e.responseText?JSON.parse(e.responseText):[];a.renderTemplate(s)}else console.log(e.status,e.statusText),404==e.status&&a.renderTemplate(a.getDefaultOffer())},e.ontimeout=function(){console.log({error:!0,type:"timeout",message:"Request fail, timeout."})}},s.prototype.getDefaultOffer=function(){return[{paramName:"preco_de",paramValue:"0,00"},{paramName:"preco_por",paramValue:"21,90"},{paramName:"periodo_desconto",paramValue:"0"},{paramName:"dias_gratis",paramValue:"0"},{paramName:"tipo_oferta",paramValue:"fprice"}]},s.prototype.renderTemplate=function(a){console.log("tmpVariables = ",a);var s=this,e=this.htmlTemplate.replace(/(\r\n|\n|\r)/gm,""),t={css:/<link([^>]*?)href[\s]?=[\s]?[\'\"\\]*([^>]*?)>/g,js:/<script([^>]*?)src[\s]?=[\s]?[\'\"\\]([\s\S]*?)<\/script>/g},r=[],i=[],p=null,l=null,n=null,o=null,c=null,m=$("<div></div>"),d={409:{fprice:'<p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">Assine agora</a></div>',fprice_xmonths:'<p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><span class="pc-wrs-periodo-oferta">nos $(param_months) primeiros meses</span><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">Assine agora</a></div>',promotion_xmonths:'<span class="pc-wrs-oferta-antiga">De R$ $(param_oldPrice)</span><p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><span class="pc-wrs-periodo-oferta">nos $(param_months) primeiros meses</span><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">Assine agora</a></div>',fprice_freedays:'<p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">$(param_degustacao)</a></div>',fprice_xmonths_freedays:'<p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><span class="pc-wrs-periodo-oferta">nos $(param_months) primeiros meses</span><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">$(param_degustacao)</a></div>',promotion_xmonths_freedays:'<span class="pc-wrs-oferta-antiga">De R$ $(param_oldPrice)</span><p class="pc-wrs-preco">Por <span>R$$(param_price)</span>/mês</p><span class="pc-wrs-periodo-oferta">nos $(param_months) primeiros meses</span><div class="pc-wrs-btn pc-wrs-btn-yellow"><a id="pc-link-assine-ja" class="pc-link" href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833">$(param_degustacao)</a></div>'},309:{fprice:'<div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">Assine agora</a></div>',fprice_xmonths:'<div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-pricing-period">nos $(param_months) primeiros meses</div><div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">Assine agora</a></div>',promotion_xmonths:'<div class="paywall-old-pricing-text">De R$ $(param_oldPrice)</div><div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-pricing-period">nos $(param_months) primeiros meses</div><div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">Assine agora</a></div>',fprice_freedays:'<div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">$(param_degustacao)</a></div>',fprice_xmonths_freedays:'<div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-pricing-period">nos $(param_months) primeiros meses</div><div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">$(param_degustacao)</a></div>',promotion_xmonths_freedays:'<div class="paywall-old-pricing-text">De R$ $(param_oldPrice)</div><div class="paywall-pricing-text">Por <span class="paywall-price">R$$(param_price)</span> /mês</div><div class="paywall-pricing-period">nos $(param_months) primeiros meses</div<div class="paywall-subscribe-button-wrapper"><a data-kmi href="https://www.assinanterbs.com.br/zhdigital/assine-zh-digital-cadastro/6833" class="mpaywall-button mpaywall-button-full mpaywall-button-yellow mpaywall-button-link">$(param_degustacao)</a></div>'}};a&&0!=a.length||(a=this.getDefaultOffer());for(var w=a.length-1;w>=0;w--){if(!(a[w]&&a[w].paramName&&a[w].paramValue)){a=this.getDefaultOffer(),c="fprice",p=!1,l="21,90",o="0",n="0";break}"preco_de"==a[w].paramName&&(p="0.00"!==a[w].paramValue?a[w].paramValue:null),"preco_por"==a[w].paramName&&(l="0.00"!==a[w].paramValue?a[w].paramValue:"19,90"),"periodo_desconto"==a[w].paramName&&(o="0"!==a[w].paramValue?a[w].paramValue:null),"dias_gratis"==a[w].paramName&&(n="Assine agora"!==a[w].paramValue?"Experimente "+a[w].paramValue+" dias grátis":"Assine agora")}for(var w=a.length-1;w>=0;w--)if("tipo_oferta"==a[w].paramName){c=a[w].paramValue;var u=d[this.settings.product][c];u=u.replace("$(param_price)",void 0!=l?l:"19,90"),p&&(u=u.replace("$(param_oldPrice)",p)),o&&(u=u.replace("$(param_months)",o)),u=u.replace("$(param_degustacao)",n)}if(a=a.concat(this.settings.data),null!=c){m.append(u);var h="\\$\\(param_actual_offer\\)",g=new RegExp(h,"g");e=e.replace(g,m.html())}if(a.length>0)for(var w=0;w<a.length;w++){var f=a[w].paramName,b=a[w].paramValue,h="\\$\\("+f+"\\)",g=new RegExp(h,"g");e=e.replace(g,b)}i=e.match(t.js),r=e.match(t.css),e=e.replace(t.css,""),e=e.replace(t.js,"");for(var w=0;w<r.length;w++){var y=document.createElement("link"),v=r[w],_=v.match(/(href=("|'))([^\"]*)("|')/g)[0].replace(/(href=("|'))|("|')/g,"");y.href=_,y.type="text/css",y.rel="stylesheet",document.querySelector(this.settings.loadTo).appendChild(y)}for(var w=0;w<i.length;w++){var k=document.createElement("script"),v=i[w],x=v.match(/(src=("|'))([^\"]*)("|')/g)[0].replace(/(src=("|'))|("|')/g,"");k.src=x,k.type="text/javascript",document.querySelector(this.settings.loadTo).appendChild(k)}setTimeout(function(){document.querySelector(s.settings.loadTo).innerHTML+=e},1)},a.templateLoader=s}(window);
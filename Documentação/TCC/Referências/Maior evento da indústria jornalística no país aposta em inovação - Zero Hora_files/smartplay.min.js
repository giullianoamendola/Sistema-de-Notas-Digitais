(function(){var Q={scope:{},getGlobal:function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c}};Q.global=Q.getGlobal(this);Q.initSymbol=function(){Q.global.Symbol||(Q.global.Symbol=Q.Symbol);Q.initSymbol=function(){}};Q.symbolCounter_=0;Q.Symbol=function(c){return"jscomp_symbol_"+c+Q.symbolCounter_++};Q.initSymbolIterator=function(){Q.initSymbol();Q.global.Symbol.iterator||(Q.global.Symbol.iterator=Q.global.Symbol("iterator"));Q.initSymbolIterator=function(){}};
Q.makeIterator=function(c){Q.initSymbolIterator();if(c[Q.global.Symbol.iterator])return c[Q.global.Symbol.iterator]();if(!(c instanceof Array||"string"==typeof c||c instanceof String))throw new TypeError(c+" is not iterable");var e=0;return{next:function(){return e==c.length?{done:!0}:{done:!1,value:c[e++]}}}};Q.arrayFromIterator=function(c){for(var e,f=[];!(e=c.next()).done;)f.push(e.value);return f};Q.arrayFromIterable=function(c){return c instanceof Array?c:Q.arrayFromIterator(Q.makeIterator(c))};
Q.arrayFromArguments=function(c){for(var e=[],f=0;f<c.length;f++)e.push(c[f]);return e};Q.inherits=function(c,e){function f(){}f.prototype=e.prototype;c.prototype=new f;c.prototype.constructor=c;for(var k in e)if(Q.global.Object.defineProperties){var q=Q.global.Object.getOwnPropertyDescriptor(e,k);void 0!==q&&Q.global.Object.defineProperty(c,k,q)}else c[k]=e[k]};
(window.ElementLocator=function ba(e,f){function k(e,f){return"undefined"===typeof e?f:e}function q(e){for(var f=[];e.parentNode;)if(null!==e.getAttribute("id")){f.unshift("#"+e.getAttribute("id"));break}else{if(e===e.ownerDocument.documentElement)f.unshift(e.tagName.toLowerCase());else{for(var k=e,y=1,y=1;k.previousElementSibling;y++)k=k.previousElementSibling;f.unshift(e.tagName.toLowerCase()+":nth-child("+y+")")}e=e.parentNode}return f.join(">")}function x(){var e=Array.prototype.slice.call(W.querySelectorAll("img")),
f={};Array.prototype.slice.call(W.querySelectorAll("p")).forEach(function(e){var n=q(e.parentNode);f[n]=f[n]||{a:0,height:0};f[n].a+=1;f[n].height+=e.getBoundingClientRect().height;f[n].node=e.parentNode});e.forEach(function(e){for(var n=e;n.parentNode;){var p=q(n.parentNode);if(f[p]){f[p].a+=1;f[p].height+=e.getBoundingClientRect().height;break}n=n.parentNode}});return(e=Object.keys(f).sort(function(e,n){return f[n].height-f[e].height}))&&0<e.length?f[e[0]]:null}function U(e,f){var k=e.getBoundingClientRect(),
q=f.getBoundingClientRect();return k.top<q.top?-1:k.top>q.top?1:0}function C(){var e=x(),f=0,k=null,q=["div","p","section"].map(function(e){return 0<fa.length?e+fa.split("/").join("\\/"):e}),p=W;e&&(p=e.node);e=Array.prototype.slice.call(p.querySelectorAll(q.join(",")));[].sort.call(e,U);ca&&(X=G+X,G=0);q=[];for(p=0;p<e.length;p++){e[p].getBoundingClientRect();var C=e[p].offsetTop,w=e[p].offsetWidth;!(1>e[p].offsetHeight||w<=S)&&C>G&&C<G+X&&w>=f&&(f=w,q.push(e[p]))}0<q.length&&(k=q[Math.floor(q.length/
2)]);return k}var A={},E=k(f,{}),N=k(e,ba.b),X=k(E.scanPixelsBelowViewport,600),S=k(E.minimumElementWidth,320),O=k(E.elementFloat,"none"),ca=k(E.allowInViewport,!1),fa=k(E.elementSelector,""),w=k(E.insertPosition,"afterend"),G=0,W=document;(function(){for(var e=window.frameElement,f=window;e;)f=e.ownerDocument.defaultView,e=f.frameElement;W=f.document;G=W.documentElement.clientHeight;if(e=C())f=W.createElement("div"),f.setAttribute("id",N),f.style.cssFloat=O,e.insertAdjacentHTML?e.insertAdjacentHTML(w,
f.outerHTML):e.appendChild(f),A.element=e,A.container=W.querySelector("#"+f.getAttribute("id")),A.containerId=f.getAttribute("id")})();return A}).b=window.ElementLocator.generateRandomID=function(){return"sc-"+Math.random().toString(36).substring(7)};var na={listVersions:function(c,e){for(var f=[c.getVersion()],k=e.length-1;0<=k;k--){var q=e[k];q.getVersion&&f.push(q.getVersion())}console.log(f)}};var ua={},wa,ya=window.getComputedStyle(document.documentElement,""),za=(Array.prototype.slice.call(ya).join("").match(/-(moz|webkit|ms)-/)||""===ya.OLink&&["","o"])[1],Aa="WebKit|Moz|MS|O".match(new RegExp("("+za+")","i"))[1];wa={js:za[0].toUpperCase()+za.substr(1),dom:Aa,css:"-"+za+"-",lowercase:za};ua.prefix=wa;var Ba={BaseAPI:function(c,e,f){function k(){}function q(){var f=c.getBoundingClientRect(),k=f.width,q=f.width;q>=e.minAdWidth&&q<=e.maxAdWidth||(f.width>e.maxAdWidth?k=e.maxAdWidth:f.width<e.minAdWidth&&(k=e.minAdWidth));return{width:Math.round(k),height:Math.round(.5625*k)}}var x={utils:{},model:{},controller:{},view:{},size:{width:0,height:0},elements:null};x.debug=(e.debug?console.log:k||k).bind(console);x.getVersion=function(){return"4.0.0-6-g8179e5c"};x.shutdown=function(){(e.onShutdown||k)(c);c.removeChild(x.elements.iframe);
c.removeChild(x.elements.backdrop);delete f[c.getAttribute("data-smartPlay-instance-id")];c.removeAttribute("data-smartPlay-instance-id");0<x.elements.nodes.length&&(x.elements.nodes[0].style.removeProperty("overflow"),x.elements.nodes[0].style.removeProperty("transition"));c.id&&-1!==c.id.indexOf("sc-")&&c.parentNode.removeChild(c)};x.resize=function(){var e=q();if(x.size.width!==e.width||x.size.height!==e.height)x.size=e,x.elements.iframe.style.width=e.width+"px",x.elements.iframe.style.height=
e.height+"px",x.elements.backdrop.style.width=e.width+"px",x.elements.backdrop.style.height=e.height+"px",c.style.height=e.height+"px"};(function(){var f=x.size=q(),k="width:"+f.width+"px; height:"+f.height+"px; position: absolute; border: 0; margin: 0;";c.style.transition=c.style[ua.prefix.js+"Transition"]="height 0.5s";c.style.position="relative";c.style.overflow="hidden";f=c.id.split("/").join("-");c.insertAdjacentHTML("beforeend",'<div id="'+f+'-backdrop" style="'+k+'"></div>');c.insertAdjacentHTML("beforeend",
'<iframe id="'+f+'-frame" frameborder="0" scrolling="no" style="'+k+'"></iframe>');a:{var k=[],A=c.parentNode;window.frameElement&&(A=window.frameElement);for(;A;)k.unshift(A),A=A.parentNode;for(var k=k.splice(2),A=x.size.height,E=k.length-1;0<=E;E--){var N=k[E].getBoundingClientRect().height;if(2<N/A||k[E].contains(e.locatedElement)){k=k.splice(E+1);break a}A=N}k=[]}x.elements={nodes:k,iframe:c.querySelector("#"+f+"-frame"),backdrop:c.querySelector("#"+f+"-backdrop")};x.elements.iframeDocument=x.elements.iframe.contentDocument;
x.elements.iframeDocument.open().write("<!doctype html><html><head></head><body></body></html>");x.elements.iframeDocument.close();0<x.elements.nodes.length&&(x.elements.nodes[0].style.transition=c.style.transition,x.elements.nodes[0].style.overflow="hidden");c.setAttribute("data-version","4.0.1-6-g8179e5c")})();return x}};var Ha={},Ia=[],Oa=[],Qa=window.SmartPlay=function Pa(e,f,k){function q(e,f,k){if(!e.getAttribute("data-smartPlay-instance-id")){e.setAttribute("data-smartPlay-instance-id",Ia.length);var q=new Ba.BaseAPI(e,f,Ia);Oa.forEach(function(k){k(q,e,f)});q.listVersions=na.listVersions.bind(this,q,Oa);Ia.push({api:q,element:e,config:f});(k||function(){})(q,e)}return Ia[parseInt(e.getAttribute("data-smartPlay-instance-id"),10)].api}function x(e){var f=Object.prototype.toString.call(e);return"[object Function]"===
f||"function"===typeof e&&"[object RegExp]"!==f}function U(e,f){var k=f||document,q=e.split("/").join("\\/");return Array.prototype.map.call(k.querySelectorAll(q),function(e){return e})}return function(){if(x(e))return Ia.forEach(function(f){e(f.api,f.element,f.config)}),Oa.push(e);if("number"===typeof e||"undefined"===typeof e)return Ia[e||0].api;if(e.nodeType)return null!==e.getAttribute("data-smartPlay-instance-id")?Ia[e.getAttribute("data-smartPlay-instance-id")].api:f?q(e,f,k):null;if("string"===
typeof e&&0<e.length){var C=e;-1===C.lastIndexOf("#",0)&&-1===C.lastIndexOf(".",0)&&(C+=", #"+C+", ."+C);return(C=U(C)[0])&&Pa(C,f,k)}return x(ElementLocator)&&(C=new ElementLocator(ElementLocator.generateRandomID(),f.elementLocator),C.element)?(f.locatedElement=C.element,Pa(C.container,f,k)):null}()};Ha.smartPlay=Qa;(function(){function c(){}function e(){}function f(b,g,d){function M(b,d){var g={};e.prototype.apply(this);var m=function(a,b){var d=-1!==String(a).indexOf("onTrack")?b:null,d=null===d?a:"AdVideo"+(d[0].toUpperCase()+d.slice(1));this.dispatchEvent(d,b)}.bind(this);g.adManager=b;g.handshakeVersion=function(){return"2.0"};g.initAd=function(d,g,z,M,c,e){if(e&&e.rules)for(d=e.rules.length-1;0<=d;d--)a.tb(e.rules[d])&&b.Ga(e.rules[d]);b.registerGlobalEventDispatcher(m)};g.startAd=function(){b.start()};
g.stopAd=function(){b.destroy()};g.skipAd=function(){b.destroy()};g.resizeAd=function(a,g){d.style.width=parseInt(a,10)+"px";d.style.height=parseInt(g,10)+"px";b.resize()};g.pauseAd=function(){b.pauseAd()};g.resumeAd=function(){b.resumeAd()};g.expandAd=function(){};g.collapseAd=function(){};g.subscribe=function(a,b,d){this.addEventListener(b,a,d)}.bind(this);g.unsubscribe=function(a,b){this.removeEventListener(b,a)}.bind(this);return g}if(!b.getAttribute("data-ois-instance-id")){b.setAttribute("data-ois-instance-id",
V.length);var c=null;g.displaySlot&&g.displaySlot.nodeType&&(c=g.displaySlot);"string"===typeof g.displaySlot&&(c=a.find(g.displaySlot)[0]||null);var z=new A(b,c),c=new x(g),z=new q(z,c),Va=new M(z,b),l={adManager:z,config:c};oa.forEach(function(a){a(Va,b,g,l)});V.push({oa:Va,element:b,qc:g,adManager:z,w:c});(d||Function)()}return V[b.getAttribute("data-ois-instance-id")].oa}function k(b){function g(a){var b=0,d=0;try{if(a.offsetParent)for(b=a.offsetLeft,d=a.offsetTop;(a=a.offsetParent)&&"BODY"!==
a.tagName.toUpperCase();)b+=a.offsetLeft,d+=a.offsetTop}catch(g){}return{left:b,top:d}}var d={o:{width:0,height:0,left:0,top:0},l:{width:0,height:0,left:0,top:0},X:!1,R:0,Xa:0,Ya:0,Wa:0},M=[],c="ois_"+a.fb().split("-").join(""),z,e;this.sa=function(){"undefined"==typeof e&&(e=window.self===window.top?window.self:window.top);if("undefined"==typeof z)try{z=e.document}catch(a){z=window.document}d.o={width:z.documentElement.clientWidth||e.innerWidth||z.body.clientWidth,height:z.documentElement.clientHeight||
e.innerHeight||z.body.clientHeight,left:e.scrollX||z.documentElement.scrollLeft||z.body.scrollLeft,top:e.scrollY||z.documentElement.scrollTop||z.body.scrollTop};var l=g(b);if(window.self!==window.top)try{var h;a:{var f=top.document.getElementsByTagName("iframe"),v;for(v in f)try{if(f[v].contentWindow[c]){h=f[v];break a}}catch(a){}h=void 0}var m=g(h);l.left+=m.left;l.top+=m.top}catch(a){}d.l={width:b.offsetWidth,height:b.offsetHeight,left:l.left,top:l.top};d.o.left>=d.l.left+d.l.width||d.o.top>=d.l.top+
d.l.height||d.l.left>=d.o.left+d.o.width||d.l.top>=d.o.top+d.o.height?(d.R=0,d.X=!1):0>=d.l.width||0>=d.l.height?(d.R=0,d.X=!1):d.l.left>=d.o.left&&d.l.top>=d.o.top&&d.l.left+d.l.width<=d.o.left+d.o.width&&d.l.top+d.l.height<=d.o.top+d.o.height?(d.R=100,d.X=!0):(l=d.l.width,h=d.l.height,d.l.left<d.o.left?l=d.l.width-(d.o.left-d.l.left):d.l.left+d.l.width>d.o.width+d.o.left&&(l=d.o.width-(d.l.left-d.o.left)),d.l.top<d.o.top?h=d.l.height-(d.o.top-d.l.top):d.l.top+d.l.height>d.o.height+d.o.top&&(h=d.o.height-
(d.l.top-d.o.top)),d.R=Math.floor(l*h/(d.l.width*d.l.height)*100),0<d.R&&(d.X=!0));1==d.X?(d.Xa+=.25,d.Ya=.25):d.Ya=0;d.Wa+=.25;M.push(d.X);return d};window[c]=c}function q(b,g){function d(){r.f(1010);r.f(1020);r.f(1030);r.f(1040);r.f("AdLoaded");r.f("START_LINEAR",v);r.f("START_NONLINEAR",v);r.f("AdStopped",v);b.f("CONTROLS_ON",v);b.f("CONTROLS_OFF",v);b.off("play,pause,ended,timeupdate,volumechange,error,durationchange",e)}function M(){va=b.m("currentSrc");ha=b.m("currentSrcType");a.g(b.m("currentSrc"))&&
(g.Uc=a.Fc(b.m("currentSrc")));u.log(101,va)}function c(){return va?b.m("currentSrc")==va:!0}function z(a){a="object"===typeof a?a.info:a;!1!==a&&(a=!0);u.log(100,a);b.setControls(a)}function e(d){"timeupdate"!=d.type&&u.log(101,d.type);if(!0===h())switch(d.type){case "play":case "error":var m=T.Z(0);m&&(a.C||b.N(),M(),r.startAd(m));!0===Wa&&(Wa=!1,M(),h(!1))}switch(d.type){case "error":u.log(102,d.type,b.m("src"));!r||c()&&!r.ua()||r.ua()||r.Db();break;case "timeupdate":d=b.m("duration");m=b.m("currentTime");
!h()&&m>g.overlayDelay&&m<d-5&&c()&&(T.Gc(d),d=T.Z(m))&&("fixedroll"==d.type&&(M(),r.startAd(d)),"overlay"!=d.type||a.Fa&&null===b.ka().getAttribute("webkit-playsinline")||r.startAd(d));d=b.m("duration");m=b.m("currentTime");m<d&&m>d-1&&c()&&a.C&&(T.ec(d)?(H=1,(d=T.Z(d))?(M(),r.startAd(d)):(r.ua()&&r.Ba(),f())):k=!0);break;case "ended":!a.C&&c()&&(I=!0,(d=T.Z(b.m("duration")))?(M(),r.startAd(d)):(r.ua()&&r.Ba(),f()),b.N());if(c()&&a.C&&1==H)H=2;else if(c()&&a.C&&2==H||k)f(),H=3;break;case 1030:b.zb(!0);
d=b.m("currentTime");0!=d&&c()&&(P=Number(Number(d).toFixed(1)));l(!1);z(!1);h(!0);break;case 1020:b.zb(!1),l()?I&&f():(b.wa({url:va,type:ha},null==P||0==P||I?!1:P,I),I&&!a.C&&f(),l(!0),z(!0),h(!1))}}function l(a){if(void 0!=a)aa=a;else return aa}function h(a){if(void 0!=a)m=a;else return m}function f(){u.log(104);b.N();if(g.onFinish)g.onFinish();d()}function v(a){if(t[a.type])t[a.type](a);"AdStopped"===a.type&&T.mc()&&v({type:"BLOCK_DONE"})}var m=!0,aa=!1,t={},r,T,va,ha,P=null,I=!1,H=!1,k=!1,Wa=
!0,B=new a.events.u;this.registerGlobalEventDispatcher=B.registerGlobalEventDispatcher;this.destroy=function(){r&&(u.log(105),r.Pb()&&r.Ba(),d())};this.start=function(){var a=b.m("currentSrc");/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&h()&&!a?e({type:"play"}):b.U()};this.onAdLoadCompleteCallback=function(b){r&&r.a("AdLoaded",a.isFunction(b)?b:function(){})};this.setControllerEvents=function(a){t=a};this.ac=function(){return b.ac()};this.pauseAd=function(){r.pauseAd()};this.resumeAd=function(){r.resumeAd()};
this.resize=function(){var a=document.createEvent("HTMLEvents");a.initEvent("resize",!0,!1);b.ka().dispatchEvent(a)};this.Ga=function(a){r.Ga(a)};this.setAutoplay=function(a){r.setAutoplay(a)};this.startLinear=function(){r.startLinear()};this.setVpaidAd=function(a){r.setVpaidAd(a)};this.triggerEvent=function(a,b){B.triggerEvent(a,b)};this.clickThrough=function(){r.clickThrough()};this.trackingController=function(){return r.trackingController()};u.log(109,R.API_VERSION);T=new w(g);r=new N(b,g);r.registerGlobalEventDispatcher(B.I);
b.registerGlobalEventDispatcher(B.I);r.a(1010,z);r.a(1020,e);r.a(1030,e);r.a(1040,function(a){u.log(103);if(g.onCompanion)g.onCompanion(a.info.Za,a.info.Bb);g.companionCallback&&g.companionCallback(a.info.Za,a.info.Bb)});r.a("START_LINEAR",v);r.a("START_NONLINEAR",v);r.a("AdStopped",v);b.a("CONTROLS_ON",v);b.a("CONTROLS_OFF",v);b.on("play,pause,ended,timeupdate,volumechange,error,durationchange",e)}function x(b){function g(){for(var a in l)"undefined"!==typeof h[a]&&(h[a]=d(l[a],h.pa[a]))}function d(a,
b){switch(typeof b){case "number":return!a||isNaN(parseInt(a,10))?b:parseInt(a,10);case "object":for(var g in b)a[g]=a[g]?d(a[g],b[g]):b[g];break;default:if(void 0===a||null===a)return b}return a}function M(){4==f.readyState&&(200==f.status?c():h.L&&h.L(h))}function c(){var a=v.parse(f.responseText.toString());h.ya(a);if(h.onConfigLoaded)h.onConfigLoaded(h)}function z(){h.L&&h.L(h)}var e={key:"",preroll:"",midroll:"",postroll:"",overlay:"",fixedroll:"",overlayDelay:5,overlayDuration:15,minDurationForMidrolls:100,
customControls:!1,adCountdownText:"",adCountdownPosition:"top",skipButtonPosition:"top",skipButtonText:"Skip this Ad",clickThroughDialogText:{query:"Open Advertiser Website?",reject:"Cancel",accept:"Open"},clickThroughDialogEnabled:!0,styles:{colorScheme:{backgroundColor:"rgba(0,0,0,.8)",color:"#ffffff"},fontStyle:{textAlign:"left",fontFamily:"Arial,sans,Verdana",fontSize:"12px",lineHeight:"20px"},dialogBox:{width:"200px",padding:"7px",border:"1px solid #ffffff",borderRadius:"3px"},buttonStyle:{width:"80px",
height:"25px",margin:"2px",marginTop:"9px",border:"1px solid #ffffff",borderRadius:"3px",lineHeight:"0px",textAlign:"center"}},onCompanion:null,companionCallback:null,onTrack:function(){},onFinish:null,vpaidSingleVideoSlotMode:!0,Kc:"",vastExtensions:{},xb:!0},l=b,h=this;h.pa=e;var f,v=new n;this.Zb=function(){return h};this.ya=function(b){l=b;g();a.Ma(b)&&(h.onConfigLoaded=b.onConfigLoaded,h.L=b.L,h.vb(b.externalConfigXml))};this.vb=function(b){b=a.V.Y(b,{pageUri:a.O().location.href,pageTitle:a.O().document.title,
techVersion:a.ra()});f=window.XDomainRequest?new window.XDomainRequest:new XMLHttpRequest;window.XDomainRequest?(f.onload=c,f.onerror=z,f.open("GET",b)):(f.open("GET",b,!0),f.onreadystatechange=M);f.send()};this.L=this.onConfigLoaded=null;this.id="test";(function(){h.pa=e;for(var a in h.pa)h[a]=h.pa[a]})();g();a.Ma(b)&&(h.onConfigLoaded=b.onConfigLoaded,h.L=b.L,h.vb(b.externalConfigXml))}function U(){function b(a){var b=d.filter(function(b){return b.hasOwnProperty(a)});if(!(1>=b.length)){var g=d.filter(function(b){return!b.hasOwnProperty(a)}),
b=b.map(function(b){return b[a]}).join("|");if(-1===b.indexOf("true")||-1===b.indexOf("false")){var c={};c[a]=b;g.push(c)}d=g}}var g=new a.events.u;a.cc();var d=[],c=a.Yb();this.a=g.a;this.f=g.f;this.registerGlobalEventDispatcher=g.registerGlobalEventDispatcher;this.addRule=function(a){if("type"===Object.keys(a).shift())d.push(a);else return b("type"),b("scalable"),b("maintainaspectratio"),d=d.concat([a]).reduce(function(a,b,d){var g=Object.keys(b).shift();g in a.keys?a.result[a.keys[g]]=b:(a.keys[g]=
d,a.result.push(b));return a},{result:[],keys:{}}).result,this};this.removeRule=function(a){d=d.filter(function(b){return Object.keys(b).shift()!==a})};this.mb=function(){b("type");b("scalable");b("maintainaspectratio");return d};this.nc=function(){d.push({delivery:"progressive"});for(var b in c)c.hasOwnProperty(b)&&d.push({type:c[b].za});d.push({type:a.na});d.push({width:5E3});d.push({bitrate:a.jb()||5E3});d.push({apiFramework:"VPAID"})};this.nc()}function C(){this.nb=function(a){a=document.getElementById(a)||
top.document.getElementById(a);var g=new A(a);return{P:a,ta:g}};this.getAll=function(){for(var a=document.getElementsByTagName("video"),g=[],d=0;d<a.length;d++)g.push(this.nb(a[d].id));return g}}function A(b,g){function d(a){"play"!==a.type||b.commercial||(P=!1);"pause"!==a.type||b.commercial||(P=!0)}function c(){H.on(b,"timeupdate,ended",e);va=setTimeout(function(){!1===r&&(u.log(805),H.off(b,"timeupdate,ended",e),f(aa),b.load(),T(),b.play(),t=!1)},15E3)}function e(a){"timeupdate"===a.type&&(r=!0,
clearTimeout(va),b.seekable.end(0)>=b.duration&&6E3!==b.duration&&100!==b.duration&&(u.log(803,b.duration),b.currentTime=b.duration,H.off(b,"timeupdate",e)));"ended"===a.type&&(u.log(804,a.type),f(aa),b.load(),T(),b.play(),H.off(b,"ended",e),t=!1)}function z(){try{b.seekable.end(0)>=m&&0<b.currentTime&&(b.currentTime=m,H.off(b,"timeupdate",z),u.log(801,m))}catch(a){u.log(802,a)}}function f(d){if(a.Kb)for(var g=b.getElementsByTagName("source"),m=d.split("."),c,m=m[m.length-1],M=0;M<g.length;M++)if(c=
g[M].src.split("."),c=c[c.length-1],c===m){g[M].src=d;return}b.src=d}function l(a,b){var d=null;window.getComputedStyle?d=parseFloat(window.getComputedStyle(a,"").getPropertyValue(b)):a.currentStyle&&(d=parseFloat(a.currentStyle[b]));return d?d.toFixed(2)+"px":null}function h(a){k.triggerEvent(5010,a.type||void 0)}function Z(){b.muted&&!1===I?(I=!0,k.triggerEvent(5020,!0)):b.muted||!0!==I||(I=!1,k.triggerEvent(5020,!1))}var v,m,aa,t=!1,r=!1,T,va,ha,P,I=!1,H,k=new a.events.u;this.m=function(a){if(a)switch(a){case "currentTime":return b.currentTime;
case "duration":return b.duration;case "currentSrc":return b.currentSrc;case "currentSrcType":return"-unused-";case "src":return b.src;case "controls":return b.controls;case "paused":return b.paused;case "volume":return b.volume;default:return null}return{currentTime:b.currentTime,duration:b.duration,currentSrc:b.currentSrc,src:b.src,controls:b.controls,paused:b.paused,volume:b.volume}};this.zb=function(a){b&&(b.commercial=a)};this.s=function(d){if(d)switch(d){case "width":return a.getWidth(b);case "height":return a.getHeight(b);
case "top":return b.offsetTop;case "left":return b.offsetLeft;default:return null}return{width:a.getWidth(b),height:a.getHeight(b),top:b.offsetTop,left:b.offsetLeft}};this.N=function(){var a=b.pause();a&&"undefined"!==typeof Promise&&a instanceof Promise&&a["catch"](function(){})};this.U=function(){P||b.play()};this.wa=function(d,g,e){u.log(806,d,g,e);aa=a.tb(d)?d.url:d;ha||(b.width||b.style.width||(b.style.width=l(b,"width")||"100%"),b.height||b.style.height||(b.style.height=l(b,"height")||"100%"),
ha=!0);a.C&&t?c():(f(aa),b.load(),g&&(m=g,H.on(b,"timeupdate",z)),e||b.play())};this.Ac=function(a,b){u.log(807,a);t=a;T=b};this.setControls=function(a){b.controls=a};this.getParent=function(){return g||b.parentNode};this.yc=function(d){var g=a.va?"touchstart":"mousedown";v=d;H.on(b,g,v)};this.Ra=function(){H.off(b,a.va?"touchstart":"mousedown",v)};this.on=function(a,d){H.on(b,a,d)};this.off=function(a,d){H.off(b,a,d)};this.ka=function(){return b};this.a=k.a;this.f=k.f;this.registerGlobalEventDispatcher=
k.registerGlobalEventDispatcher;this.destroy=function(){H.off(b,"mousedown",v);H.off(b,"timeupdate",z);H.off(b,"volumechange",Z);H.off(b,"timeupdate,ended",e);H.off(window,"resize,orientationchange",h);H.off(document,"mozfullscreenchange,webkitfullscreenchange",h);H.off(b,"pause play",d)};H=new a.events.Event;H.on(window,"resize,orientationchange",h);H.on(document,"mozfullscreenchange,webkitfullscreenchange",h);b.muted&&(I=!0);H.on(b,"volumechange",Z);H.on(b,"pause play",d)}function E(b){function g(){f.triggerEvent("AdStopped",
void 0)}function d(a,b,d){Z||(Z=a);v||(v=b);m||(m=d)}function c(b){T=b?new window[P](Z,v,t,m,h):new R.extensions[r](Z,v,t,m,h);a.isFunction(T.a)&&(T.a("PAUSEAD",aa),T.a("RESUMEAD",aa));z.push(T)}var e,z=[],f=new a.events.u,l,h=this,Z,v,m,aa,t,r,T,k,ha,P,I;this.a=f.a;this.f=f.f;this.T=function(b,g,m){d(b,g,m);if(e&&!(1>e.length))for(b=0;b<e.length;b++)t=e[b],r=t.attributes[0].value,R.extensions[r]?c(!1):(k=v.w.vastExtensions,ha=Object.getOwnPropertyNames(k),ha.forEach(function(b){P=k[b].className||
b;I=k[b].src;P===r&&(window[P]&&"function"===typeof window[P]?c(!0):I&&(b=a.createElement("script",{type:"text/javascript"}),document.head.appendChild(b),b.addEventListener("load",function(){c(!0)},!1),b.src=I))}))};this.destroy=function(){if(0<z.length)for(var a=0;a<z.length;a++)z[a].destroy&&z[a].destroy();l&&l.f("AdStopped",g);aa=m=v=Z=!1};this.onResize=function(){if(0<z.length)for(var a=0;a<z.length;a++)z[a].setViewport({width:b.s("width"),height:b.s("height")})};this.setup=function(a,b,d){e=
a;aa=b;l=d;l.a("AdStopped",g);return h}}function N(b,g){function d(b){b="fixedroll"==b?B.ia():B.ja();if(b.StaticResource){var d=b.attributes.apiFramework?b.attributes.apiFramework:"UNKNOWN";if(-1!=a.na.indexOf(b.resourceAttributes.creativeType.toLowerCase())&&"VPAID"==d.toUpperCase())return u.log(ia),!0}else if(b.attributes.apiFramework&&"VPAID"==b.attributes.apiFramework.toUpperCase())return!0;return!1}function c(){clearInterval(oa);V=!1;oa=setInterval(function(){q.fc();var a=(new Date).getTime();
void 0==D&&(D=a);a=parseInt(a-D,10)/1E3;B.Ab(a);a>parseInt(g.overlayDuration,10)&&P()},250);V=!0;n.bb()}function e(a){n&&(a.info?n.cb():n.eb())}function z(a){a.info&&"fullscreen"===a.info&&n.callTracker("fullscreen");a.info&&"exitFullscreen"===a.info&&n.callTracker("exitFullscreen");F&&F.resizeAd(b.s("width"),b.s("height"),void 0);ja.onResize()}function f(a){"play"===a.type&&(a.type="resume");n&&n.callTracker(a.type)}function l(a){B=new X(g);B.Hc(N);q=new S(b,B);q.a("AdClickThru",m);q.a(2020,m);q.registerGlobalEventDispatcher(H.I);
B.a(3010,m);B.a(3020,m);B.a(3030,m);B.a(3035,m);B.a(3050,m);B.a(3040,m);B.a(7E3,m);B.registerGlobalEventDispatcher(function(a){5501===a&&(L=!0,u.log(5100))});B.registerGlobalEventDispatcher(H.I);B.registerGlobalEventDispatcher(function(a,b){switch(a){case 4200:u.log(5E3);(Y=b)&&Y.Bc(A.limit);break;case 4210:u.log(5001),Y=null}});b.on("play",f);b.on("pause",f);b.a(5020,e);b.a(5010,z);"fixedroll"===ga?B.ub(A.urls.shift()):"overlay"===ga&&a&&(null!==C?(C.nonLinearsTracker.impression=[],C.gotLinear=!1,
C.companion=[],C.companionsAsString=null,B.oc(C),C=null):B.ub(a))}function h(){m({type:"RESUMEAD"})}function Z(){b.off("ended",k);n.Sb();P()}function v(){d("fixedroll")?(q.ic(),r("fixedroll"),F.yb(da),T()):(I(1030),b.Ac(K,T),b.wa(B.ia(),!1),b.on("loadeddata",function(){I("AdStarted")}),K=!1,a.C||T());I("START_LINEAR")}function m(e){u.log(201,e.type);n||(n=new G(b,g,B,ga),n.registerGlobalEventDispatcher(H.I),n.a("AdCapped"));switch(e.type){case "PAUSEAD":if(!V&&!w)break;O=!0;b.N();b.on("play",h);I(1010,
!0);q.Ka();break;case "RESUMEAD":if(!V&&!w)break;if(O||b.m("paused"))O=!1,b.off("play",h),b.U(),q.gb(),I(1010,!1);break;case 3010:I("AdLoaded",B.i());0<B.i().companion.length&&I(1040,{Za:B.i().companion,Bb:B.i().companionsAsString});n=new G(b,g,B,ga);n.registerGlobalEventDispatcher(H.I);"overlay"===ga&&B.i().gotNonLinear?(q.jc(),(e=B.ja())&&e.attributes&&e.attributes.minSuggestedDuration&&15<a.M(e.attributes.minSuggestedDuration)&&a.M(e.attributes.minSuggestedDuration)>g.overlayDuration&&(g.Ha=g.overlayDuration,
g.overlayDuration=a.M(e.attributes.minSuggestedDuration)),q.zc(e),d("overlay")&&r("overlay"),c(),I("START_NONLINEAR")):"fixedroll"==ga&&B.i().gotLinear?(q.T(),q.Aa(),L&&q.kc(),q.a("SKIP",Z),Xa&&v()):"fixedroll"!==ga&&"overlay"!==ga||aa(200);ja.T(q,B,n);break;case "AdClickThru":O=!0;ha();break;case 3020:u.log(202,e.info);Y&&Y.La();null!=n&&n.fa(e.info);P();break;case 2020:u.log(203);n.Rb();"fixedroll"===ga&&A.limit--;P();break;case 3030:C=e.info;break;case 3035:ja.setup(e.info,m,db);break;case 3050:n.ab(e.info,
"cappedImpression");break;case 3040:n.fa(302);break;case 7E3:aa(303)}}function aa(a){u.log(202,a);null!==n&&n.fa(a);P()}function t(a){u.log(950,a.type);switch(a.type){case 6010:Y&&Y.La();null!==n&&n.fa(901);F.f(6010,t);F=null;P();break;case 6020:I(1030);break;case 6030:I(1020);break;case 6040:P();break;case 6050:F=null;P();break;case 6060:ha(a.info)}}function r(a){F=new p;F.a(6010,t);F.a(6020,t);F.a(6030,t);F.a(6040,t);F.a(6050,t);F.a(6060,t);F.a(6070,e);F.registerGlobalEventDispatcher(H.I);"overlay"===
a?F.T(B.ja(),q,b,n,B):F.hc(B.ia(),q,b,n,B)}function T(){clearInterval(y);w=!1;b.on("ended",k);y=setInterval(function(){var a=(new Date).getTime();void 0==x&&(x=a);var a=Math.round(b.m("currentTime")),d=Math.round(b.m("duration"));n.handleTracking();Number.isFinite(d)&&(B.Ab(d-a),B.totalTime!==d&&B.wc(d))},250);w=!0}function k(){b.off("ended",k);A.limit--;P()}function ha(a){"fixedroll"===ga&&(B.i().videoClicks.url||a)?(n.$a(),a=a?a:B.i().videoClicks.url,a=window.open(a,"_blank"),null===a||"undefined"===
typeof a?h():(I(1010,!0),q.Ka())):"overlay"===ga&&(B.i().nonLinearsVideoclicks.url||a)&&(a=a?a:B.i().nonLinearsVideoclicks.url,window.open(a,"_blank"))}function P(d){u.log(204,ga);Y&&Y.ob().proceed()?(d=Y.ob(),u.log(5004,d.podsLeft,d.podsFailed,d.buffetLeft,d.proceed()),u.log(5003),q&&q.destroy(),q=new S(b,B),q.a("AdClickThru",m),q.a(2020,m),q.registerGlobalEventDispatcher(H.I),ja.destroy(),F&&F.stopAd(),B.Oa(Y),A.limit--):(u.log(5005),q.f("AdClickThru"),q.f(2020),B.f(3010),B.f(3020),B.f(3030),B.f(3035),
B.f(3050),B.f(3040),B.f(7E3),B.B(),b.off("play",f),b.off("pause",f),b.f(5020,e),b.f(5010,z),F?F.stopAd():("overlay"==ga||V?(u.log(205,ga),g.Ha&&(g.overlayDuration=g.Ha,delete g.Ha),clearInterval(oa),V=!1,D=void 0,q.tc(),B.destroy(),q=R.Hb=null,B=R.Gb=null,a.Ea&&I(1010,!0)):"fixedroll"===ga&&(clearInterval(y),w=!1,x=void 0,q.destroy(),B.destroy(),q=R.Hb=null,B=R.Gb=null,ja.destroy(),0<A.limit&&0<A.urls.length&&!d?l():I(1020)),I("AdStopped"),n=null))}function I(a,b){H.triggerEvent(a,b)}var H=new a.events.u,
n,q,B,F,y,x,w=!1,oa,D,V=!1,A,ga,C=null,L=!1,O,K=!1,N=new U,ja=new E(b),db=this,Xa=!0,Y=null,da=null;this.startLinear=function(){v()};this.startAd=function(a){ga=(A=a)&&a.type?a.type:!1;return A?("fixedroll"===ga?(!0===V&&P(),K=!0,l()):"overlay"===ga&&A.urls[0]&&l(A.urls[0]),!0):!1};this.a=H.a;this.f=H.f;this.registerGlobalEventDispatcher=H.registerGlobalEventDispatcher;this.B=H.B;this.Db=function(){Y&&Y.La();try{u.log(202,400),n.fa(400),P()}catch(a){}};this.Ba=function(){b.destroy();P(!0)};this.ua=
function(){return V};this.Pb=function(){return V||w};this.pauseAd=function(){m({type:"PAUSEAD"})};this.resumeAd=function(){m({type:"RESUMEAD"})};this.setAutoplay=function(a){Xa=a};this.Ga=function(a){N&&N.addRule(a)};this.setVpaidAd=function(a){da=a};this.clickThrough=function(){ha()};this.trackingController=function(){return n}}function X(b){function g(b){u.log(301,b.type);h&&h.i()&&(m.videoClicks=h.i().videoClicks,m.tracker=h.i().tracker,m.linear=h.i().linear,m.nonLinearsVideoclicks=h.i().nonLinearsVideoclicks,
m.nonLinearsTracker=h.i().nonLinearsTracker,m.nonLinears=h.i().nonLinears,m.extensions=h.i().extensions,m.aa=h.i().aa,m.asString=h.i().asString,m.duration=h.i().duration,m.companion=h.i().companion,m.companionsAsString=h.i().companionsAsString,m.ca=h.i().ca,m.gotLinear=h.i().gotLinear,m.gotNonLinear=h.i().gotNonLinear,m.la=h.i().la,m.isCombi=h.i().isCombi,m.F=h.i().F);switch(b.type){case 7E3:Z.triggerEvent(7E3);break;case "AdTagParsed":l();9<t&&d(3040);m.gotLinear&&null==k.url||9<t?d(3020,2020):d(3010);
break;case 4030:aa=!0;t++;c(m.ca);break;case 4020:d(3020,b.info);break;case 4040:d(3030,a.clone(m));break;case 4050:d(3035,m.extensions);break;case 4100:d(3050,b.info)}}function d(a,b){Z.triggerEvent(a,b)}function c(b){var d;window.XDomainRequest?(u.log(303),d=new window.XDomainRequest):(u.log(304),d=new XMLHttpRequest);v=d;b=a.V.Y(b,{pageUri:a.O().location.href,pageTitle:a.O().document.title,techVersion:a.ra()});window.XDomainRequest?(v.onload=z,v.onerror=f,v.open("GET",b)):(v.open("GET",b,!0),a.Cc(b)&&
(v.withCredentials=!0),v.onreadystatechange=e);v.send()}function e(){4==v.readyState&&(200==v.status?z():f())}function z(){var a=v.responseText;!1===aa?(h=new D,h.registerGlobalEventDispatcher(Z.I),h.a("AdTagParsed",g),h.a(4020,g),h.a(4030,g),h.a(4040,g),h.a(4050,g),h.a(4100,g),h.a(7E3,g)):!0===aa&&(aa=!1);h.ma(a)}function f(){d(3020,[310,String(v.status)])}function l(){T=new R.MediaSelector(ha,r);T.Vb().Ec();if(0<T.kb().length){var b=a.jb()||5E3,d=T.kb().reduce(function(a,d){return Math.abs(d.attributes.bitrate-
b)<Math.abs(a.attributes.bitrate-b)?d:a});k.url=d.nodeValue;k.type=d.attributes.type;k.index=0;a.extend(k,d);"string"===typeof k.url&&(k.url=a.V.Y(k.url,{assetUri:k.url,pageUri:a.O().location.href,pageTitle:a.O().document.title,techVersion:a.ra()}))}else k.url=null}var h=null,Z=new a.events.u,v,m={videoClicks:{},tracker:[],linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:[],nonLinears:[],extensions:[],companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,
isCombi:!1,F:[]},aa=!1,t=0,r=new U,T=null,k={url:null,index:null,type:null},ha=this;this.Hc=function(a){r=a};this.Tb=function(){return!!m.videoClicks.url};this.w=b;this.Qa=void 0;this.totalTime=m.duration;this.ub=function(a){c(a)};this.ja=function(){return m.nonLinears[0]};this.ia=function(){return k};this.Ab=function(a){this.totalTime=m.duration;this.Qa=m.duration-a;d("AdRemainingTimeChange")};this.wc=function(a){this.totalTime=a;d("AdDurationChange")};this.oc=function(b){m=a.clone(b);d(3010)};this.destroy=
function(){u.log(5006);null!==h&&(h.f(4020),h.f("AdTagParsed"),h.f(4030),h.f(4040),h.f(4100),h.f(7E3),h.B(),h=null);Z=null};this.a=Z.a;this.f=Z.f;this.registerGlobalEventDispatcher=Z.registerGlobalEventDispatcher;this.B=Z.B;this.i=function(){return m};this.Oa=function(a){h&&h.Oa(a)}}function S(b,g){function d(){var a=b.s();B="display:block;position:absolute;overflow:hidden;text-align:center;font-family:Arial,sans,Verdana;opacity:1;";p="display:block;position:absolute;overflow:hidden;width:15px;height:15px;top:0px;left:"+
a.width+"px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAALUlEQVQY02P4TyRgABMEAIpCbBpQ5JAV4GWjmwR3Ey6rSVJIlNUkeYZg8BADADDRv0FliZd9AAAAAElFTkSuQmCC) 50% 50% no-repeat;"}function c(a){var d=b.s("width"),g=b.s("height");if(F.width===d&&F.height===g)return a;u.log(401);a.W=parseInt(a.width,10);a.S=parseInt(a.height,10);a.ratio=a.W/a.S;F.width=d;F.height=g;"true"===a.scalable&&"true"===a.maintainAspectRatio?a.W/d>=a.S/(g/5)?(a.W=d,a.S=a.W/a.ratio):(a.S=g/5,a.W=a.S*
a.ratio):"true"===a.scalable&&"false"===a.maintainAspectRatio&&(a.S=g/5,a.W=d);a.width=Math.floor(a.W);a.height=Math.floor(a.S);return a}function e(a,d){var g=b.s();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=g.top+(g.height-d.height)+"px";a.style.left=g.left+(g.width/2-d.width/2)+"px"}function z(){return a.createElement("div",{id:"closeButton"+1E6*Math.random(),style:p})}function f(){y&&(C=b.m("duration"),E=b.m("currentTime"),1>=C&&(C=g.i().duration),y.update(E,C))}function l(){x&&
(C=b.m("duration"),E=b.m("currentTime"),1>=C&&(C=g.i().duration),x.update(E,C))}function h(){g.Tb()&&b.yc(function(){.5>b.m("currentTime")||(b.on("play",m),b.N(),b.Ra(),g.w.clickThroughDialogEnabled?(A.show(),A.a("accept",v),A.a("reject",m)):v())})}function Z(){u.log(402);t("AdClickThru")}function v(){u.log(402);L.Ka();A.hide();A.f("accept",v);A.f("reject",m);b.setControls(!0);t("AdClickThru")}function m(){L.gb();A.hide();A.f("accept",v);A.f("reject",m);b.off("play",m);b.U();b.setControls(!1);h()}
function aa(){V.onmousedown=function(){u.log(403);t(2020)}}function t(a){q.triggerEvent(a,void 0)}function r(){V.style.left=parseInt(w.style.width,10)-15+"px"}function T(){if(w){var a=c(oa);oa=a;if(K){var a=w,d=b.s();a.style.width=d.width+"px";a.style.height=d.height+"px";a.style.top=d.top;a.style.left=d.left}else e(w,a);r()}}function n(){g.w.styles.closeButtonStyle&&a.A(V,g.w.styles.closeButtonStyle)}function ha(){setTimeout(function(){x&&x.setViewport(b.s());A&&A.setViewport(b.s());G&&G.setViewport(b.s());
y&&y.setViewport(b.s());T()},50)}function P(){t("SKIP")}var I=b.getParent(),q=new a.events.u,F={},p,B,y,x,w,V,A,oa,D={},E,C,U,G,K=!1,L=this,N=new k(b.getParent());this.T=function(){u.log(404);d();x=new ca(I,g);x.setViewport(b.s());x.show();V=z();A=new O(I,g);A.setViewport(b.s());n();h();b.a(5010,ha)};this.ic=function(){U=a.createElement("div",{id:"vpaidSlot"+1E6*Math.random(),style:"pointer-events:none;position:absolute;width:100%;height:100%;display:none"});I.appendChild(U);var d=b.s();["left","top",
"width","height"].forEach(function(a){U.style[a]=""+d[a]+"px"})};this.jc=function(){u.log(405);F={width:0,height:0};d();b.a(5010,ha)};this.kc=function(){y=new fa(I,g);y.setViewport(b.s());y.hide();y.a("SKIP",P)};this.fc=function(){T()};this.Aa=function(){g.a("AdRemainingTimeChange",l);g.a("AdRemainingTimeChange",f)};this.zc=function(d){a.Ea&&!g.w.customControls&&b.setControls(!1);var m=c(d.attributes),h=a.createElement("div",{id:"overlay"+1E6*Math.random(),style:B}),f=null,v;v=b.s();oa=m;e(h,m);if(d.StaticResource){var m=
d.resourceAttributes.creativeType.toLowerCase(),l=d.attributes.apiFramework?d.attributes.apiFramework:"UNKNOWN";-1!=a.na.indexOf(m)&&"VPAID"==l.toUpperCase()?(K=!0,U=a.createElement("div",{id:"vpaidSlot"+1E6*Math.random(),style:"pointer-events:none;width:100%;height:100%"}),h.style.top=v.top+"px",h.style.left=v.left+"px",h.style.width=v.width+"px",h.style.height=v.height+"px",h.style.pointerEvents="none",h.style.display="none",h.appendChild(U)):(-1!=a.na.indexOf(m)?f=a.createElement("script",{src:d.StaticResource}):
0<=m.search(/^image|jpeg|gif|png/i)&&(f=a.createElement("img",{src:d.StaticResource,style:"width:100%;height:100%"})),null!=f&&h.appendChild(f))}else d.IFrameResource?(v=a.createElement("div",{style:"position:absolute;width:100%;height:100%;background-color:rgba(0,0,0,0)"}),f=a.createElement("iframe",{id:"nonLinearIFrame",src:d.IFrameResource,style:"width:100%;height:100%"}),h.appendChild(v),h.appendChild(f)):d.HTMLResource&&(f=a.createElement("div",{style:"width:100%;height:100%"}),f.innerHTML=d.HTMLResource,
h.appendChild(f));w=h;V=z();n();r();w.appendChild(V);I.appendChild(w);w.firstChild.addEventListener("mousedown",Z,!1);aa()};this.tc=function(){a.Ea&&!g.w.customControls&&b.setControls(!0);try{I.removeChild(w)}catch(d){u.log(406)}b.f(5010)};this.destroy=function(){b.f(5010);g.f("AdRemainingTimeChange");A&&A.destroy();x&&x.destroy();y&&y.destroy();U&&I.removeChild(U);G&&G.destroy();q=null;b.Ra()};this.pb=function(){return U};this.dc=function(){b.s()};this.Dc=function(){w?(w.removeChild(V),w.firstChild.removeEventListener("mousedown",
Z,!1),w.style.display="block"):(b.Ra(),U.style.display="block")};this.pc=function(a){var d=["left","top","width","height"],g=b.s();w&&(K?d.forEach(function(a){w.style[a]=""+g[a]+"px"}):a?(Object.getOwnPropertyNames(D).length||d.forEach(function(a){D[a]=w.style[a]}),d.forEach(function(a){w.style[a]=""+g[a]+"px"})):d.forEach(function(a){w.style[a]=D[a]}))};this.qb=function(){b.getParent()};this.sa=function(){return N.sa()};this.Ka=function(){x&&x.hide();y&&y.hide()};this.gb=function(){x&&x.show();y&&
y.show()};this.a=q.a;this.f=q.f;this.registerGlobalEventDispatcher=q.registerGlobalEventDispatcher}function O(b,g){function d(a){var b=window.getComputedStyle(h,null).getPropertyValue("height");h.style.top=.5*(a.height-parseInt(b,10))+"px";h.style.left=.5*(a.width-parseInt(h.style.width,10))+"px"}var c=g.w,e=new a.events.u,z={},f=c.clickThroughDialogText,l=c.styles,h;this.show=function(){h.style.display="block";d(z)};this.hide=function(){h.style.display="none"};this.destroy=function(){b.removeChild(h)};
this.setViewport=function(a){z=a;d(z)};this.a=e.a;this.f=e.f;h=function(){var d=a.createElement("div",{id:"clickThroughDialogBox"+1E6*Math.random(),style:"position:absolute;display:none"});d.innerHTML=f.query+"<br/>";var g=a.createElement("button",{});g.innerHTML=f.reject;var c=a.va?"ontouchstart":"onmousedown";g[c]=function(a){"none"!==h.style.display&&(a.stopImmediatePropagation(),e.triggerEvent("reject"))};d.appendChild(g);var z=a.createElement("button",{});z.innerHTML=f.accept;z[c]=function(a){"none"!==
h.style.display&&(a.stopImmediatePropagation(),e.triggerEvent("accept"))};d.appendChild(z);a.A(d,l.colorScheme);a.A(d,l.fontStyle);a.A(d,l.dialogBox);a.A(g,l.colorScheme);a.A(g,l.fontStyle);a.A(g,l.buttonStyle);a.A(z,l.colorScheme);a.A(z,l.fontStyle);a.A(z,l.buttonStyle);d.style.cssText+="text-align:center;";b.appendChild(d);return d}()}function ca(b,g){function d(a){var b=parseInt(window.getComputedStyle(l,null).getPropertyValue("height"),10),d="top"===c.adCountdownPosition?0:a.top+a.height-b;l.style.width=
a.width+"px";l.style.height=b+"px";l.style.top=d+"px";l.style.left=a.left+"px"}var c=g.w,e=new a.events.u,z={},f=c.styles,l;this.show=function(){""!==c.adCountdownText&&(l.style.display="block",d(z))};this.hide=function(){l.style.display="none"};this.update=function(a,b){var d;try{if(d!==(d=Math.floor(b-a))){var g=c.adCountdownText,g=g.replace(/\[time\]/i,d);isNaN(d)||(l.innerHTML="&nbsp;"+g+"&nbsp;")}}catch(e){}};this.destroy=function(){b.removeChild(l)};this.setViewport=function(a){z=a;d(z)};this.a=
e.a;this.f=e.f;l=function(){var d=a.createElement("div",{id:"adCountdown"+1E6*Math.random(),style:"position:absolute;overflow:hidden;pointer-events:none;display:none;"});d.innerHTML="&nbsp;Loading...&nbsp;";a.A(d,f.colorScheme);a.A(d,f.fontStyle);b.appendChild(d);return d}()}function fa(b,g){function d(){z.triggerEvent("SKIP")}function c(a){var b=parseInt(window.getComputedStyle(l,null).getPropertyValue("height"),10),d="top"===e.skipButtonPosition?0:a.top+a.height-b,g=parseInt(window.getComputedStyle(l,
null).getPropertyValue("width"),10);a="left"===k?0:a.width-g;l.style.width=g+"px";l.style.height=b+"px";l.style.top=d+"px";l.style.left=a+"px"}var e=g.w,z=new a.events.u,f={},l,h=e.styles,k,v=!1;this.update=function(b,d){if(!v){var c=a.wb(g.ia().skipoffset,d);b>=c&&(this.show(),v=!0)}};this.show=function(){l.style.display="block";c(f)};this.hide=function(){l.style.display="none"};this.destroy=function(){b.removeChild(l)};this.setViewport=function(a){f=a;c(f)};this.a=z.a;this.f=z.f;l=function(){var g=
a.createElement("div",{id:"adSkipButton"+1E6*Math.random(),style:"position:absolute;overflow:hidden;display:none;cursor:pointer;white-space: nowrap"});g.innerHTML="&nbsp;"+e.skipButtonText+"&nbsp;";a.A(g,h.colorScheme);a.A(g,h.fontStyle);k=g.style.textAlign="right"===h.fontStyle.textAlign?"left":"right";g.addEventListener(a.va?"touchstart":"mousedown",d,!1);b.appendChild(g);return g}()}function w(b){function g(a,b){var d="";"string"==typeof a&&(a={urls:[a]});"string"==typeof a.urls&&(d=a.urls,a={urls:[d]});
a.offset=b;return a}function d(a){if(b.overlay){for(var d=[],g=0;g<b.fixedrolls.length;g++){var c={urls:[b.overlay],offset:b.fixedrolls[g].offset+b.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1};c.offset<a&&d.push(c)}for(g=0;g<d.length;g++)b.fixedrolls.push(d[g]);b.fixedrolls.some(function(a){return 0==a.offset})||b.fixedrolls.push({urls:[b.overlay],offset:b.overlayDelay,limit:1,count:1,interval:-1,type:"overlay",requested:!1})}}function c(){b.fixedrolls.sort(function(a,b){return a.offset>
b.offset?1:a.offset<b.offset?-1:0})}var e=!1;this.Gc=function(g){if(!e){for(var f=0;f<b.fixedrolls.length;f++){var l=b.fixedrolls[f];"string"==typeof l.offset&&(l.offset=parseInt(l.offset,10)/100*g)}f=[];for(l=0;l<b.fixedrolls.length;l++){var h=b.fixedrolls[l];if(5<=h.interval)for(var k=h.offset+h.interval;k<g-5;){var v=a.clone(h);v.offset=k;f.push(v);k+=h.interval}}b.fixedrolls=b.fixedrolls.concat(f);if(g<b.minDurationForMidrolls){for(f=0;f<b.fixedrolls.length;f++)l=b.fixedrolls[f],0<l.offset&&l.offset<
g&&b.fixedrolls.splice(f,1);u.log(602)}d(g);c();e=!0}};this.Z=function(a){a:{for(var d=0;d<b.fixedrolls.length;d++){var g=b.fixedrolls[d],c=a-g.offset;if(g.offset<=a&&2>=c&&!g.requested){g.requested=!0;a=g;break a}}a=!1}return a};this.reset=function(){for(var a=0;a<b.fixedrolls.length;a++)b.fixedrolls[a].requested=!1};this.mc=function(){return!0===b.fixedrolls[b.fixedrolls.length-1].requested};this.ec=function(a){return b.fixedrolls[b.fixedrolls.length-1].offset==a&&!1===b.fixedrolls[b.fixedrolls.length-
1].requested};(function(){b.fixedrolls||(b.fixedrolls=[]);b.preroll&&(b.preroll=g(b.preroll,0),b.fixedrolls.push(b.preroll));b.midroll&&(b.midroll=g(b.midroll,"50%"),b.fixedrolls.push(b.midroll));b.postroll&&(b.postroll=g(b.postroll,"100%"),b.fixedrolls.push(b.postroll));b.overlay&&a.clone(b.overlay);for(var d=0;d<b.fixedrolls.length;d++){var c=b.fixedrolls[d];if("string"==typeof c||0>parseInt(c.offset,10))u.log(601,c.offset);else{var e="";"string"==typeof c.urls&&(e=c.urls,c.urls=[e]);if(c.count){e=
c.urls[0];c.urls=[];for(var M=0;M<c.count;M++)c.urls.push(e.replace("[count]",M+1))}else c.count=1;"object"!=typeof c||"object"!=typeof c.urls||c.limit||(c.limit=c.urls.length);c.interval||(c.interval=-1);c.requested=!1;c.type="fixedroll"}}for(d=0;d<b.fixedrolls.length;d++)(c=b.fixedrolls[d],c.urls)?0==c.urls.length&&(b.fixedrolls.splice(d,1),d--):(b.fixedrolls.splice(d,1),d--)})()}function G(b,g,d,c){function e(b,d,c){b&&d&&g.onTrack&&a.isFunction(g.onTrack)&&(g.onTrack(b,d,c?c:""),f(c)&&(g.onTrack("capped",
d),n.triggerEvent("AdCapped",void 0)));n.triggerEvent("onTrack",b)}function f(b){var d=a.isArray(b)?Number(b[0]):Number(b);b="1010 1020 1030 1040 1050 1060 1070 2030".split(" ").some(function(a){return a==d});var g=["100","101","300","303"].some(function(a){return a==d});return b||g}function k(b){var g=a.V.Y(b.url,{timeOffset:d.totalTime-d.Qa,assetUri:d.ia().url||d.ja()&&d.ja().url||"",pageUri:a.O().location.href,pageTitle:a.O().document.title,techVersion:a.ra()});b.Ta&&"error"===b.Ta&&b.info&&(g=
a.V.errorCode(g,b.info));(new Image).src=g}function l(b,d,m){"progress"!==d&&e(d,c,m);var f=r.some(function(a){return a===d});if((!f||!v[d])&&b)for(var h=0;h<b.length;h++)if("string"===typeof b[h])f&&(v[d]=g.xb?!0:!1),k({url:b[h],Ta:d,info:m});else if(b[h].nodeValue&&"progress"===d&&!v[d]){v[d]=g.xb?!0:!1;if(b[h].offset){var z=a.wb(b[h].offset,t);if(z&&z>q)continue}e(d,c,m);k({url:b[h].nodeValue,Ta:d,info:m});b[h].nodeValue=void 0}}var h=d.i()["fixedroll"===c?"tracker":"nonLinearsTracker"],n=new a.events.u,
v={},m=0,q=0,t,r="close closeLinear skip impression creativeView start firstQuartile midpoint thirdQuartile complete".split(" ");this.cb=function(){l(h.mute,"mute")};this.eb=function(){l(h.unmute,"unmute")};this.fa=function(a){l(h.error,"error",a)};this.Sb=function(){l(h.skip,"skip")};this.Rb=function(){l(h.close,"close")};this.$a=function(){l(h.clickTracking,"clickTracking")};this.bb=function(){u.log(701,"Impression, CreativeView");l(h.impression,"impression");l(h.creativeview,"creativeView")};this.callTracker=
function(a){l(h[a.toLowerCase()],a)};this.ab=function(b,d){var g=[];a.isArray(b)?g=b:g.push(b);l(g,d)};this.handleTracking=function(a){var d,e;a="fixedroll"===c?Math.round(b.m("currentTime")):a;var f="fixedroll"===c?Math.round(b.m("duration")):parseInt(g.overlayDuration,10);q=a;t=f;"fixedroll"===c&&(m+.3<q&&(m=q,l(h.timeupdate,"timeupdate")),l(h.progress,"progress"));if(!(isNaN(f)||!isNaN(f)&&0>f)){if(a>=f)d="complete";else if(a>=f/(4/3))d="thirdQuartile";else if(a>=f/2)d="midpoint";else if(a>=f/
4)d="firstQuartile";else if(a)e="Impression, CreativeView, Start",l(h.impression,"impression"),l(h.creativeview,"creativeView"),l(h.start,"start");else return;d&&(e=d,l(h[d.toLowerCase()],d));u.log(701,e)}};this.a=n.a;this.f=n.f;this.registerGlobalEventDispatcher=n.registerGlobalEventDispatcher}function W(){function b(){function b(){for(var d=a.j(t.Creatives,"Creative"),g=0;g<d.length;g++)if(t.NonLinearAds=a.b(d[g],"NonLinearAds"),t.NonLinearAds){m.gotNonLinear=!0;break}}if(a.g(t.D)){try{if(!(t.VAST=
a.b(t.D,"VAST")))throw 1010;c(t.VAST);if(!(t.Ad=a.j(t.VAST,"Ad")[0]))throw 1020;if(!(t.InLine=a.b(t.Ad,"InLine"))&&!(t.Wrapper=a.b(t.Ad,"Wrapper")))throw 1030;if(t.InLine){c(t.InLine);if(!(t.Creatives=a.b(t.InLine,"Creatives")))throw 1040;if(!(t.Creative=a.j(t.Creatives,"Creative")[0]))throw 1050;if(!(t.Linear=a.b(t.Creative,"Linear"))&&!(t.NonLinearAds=a.b(t.Creative,"NonLinearAds")))throw 1060;t.Linear&&(m.gotLinear=!0);t.NonLinearAds?m.gotNonLinear=!0:b()}else{if(!(t.VASTAdTagURI=a.b(t.Wrapper,
"VASTAdTagURI")))throw 1070;t.Wrapper&&(c(t.Wrapper),t.Creatives=a.b(t.Wrapper,"Creatives"),t.Creative=a.j(t.Creatives,"Creative")[0],t.Linear=a.b(t.Creative,"Linear"),t.NonLinearAds=a.b(t.Creative,"NonLinearAds"),b(),m.gotNonLinear=!1)}}catch(d){return n.triggerEvent(4020,d),!1}g()&&n.triggerEvent(4200);return!0}return!1}function g(){var b=a.j(t.VAST,"Ad");return b&&1<b.length}function d(b,d){a.isArray(b[d])||(b[d]=[])}function c(b){b=a.j(b,"Error");if(a.g(b)){d(m.tracker,v.ERROR);d(m.nonLinearsTracker,
v.ERROR);for(var g=0;g<b.length;g++)a.c(b[g])&&(m.tracker.error.push(a.c(b[g])),m.nonLinearsTracker.error.push(a.c(b[g])));m.tracker.error=a.unique(m.tracker.error);m.nonLinearsTracker.error=a.unique(m.nonLinearsTracker.error)}}function e(b,g){if(a.g(b))for(var c=a.j(b,"Tracking"),f=0;f<c.length;f++){var h=a.h(c[f]).event.toLowerCase();a.c(c[f])&&(d(m.tracker,h),"progress"===h?m.tracker[h].push({nodeValue:a.c(c[f]),offset:a.h(c[f]).offset}):m.tracker[h].push(a.c(c[f])))}if(a.g(g))for(c=a.j(g,"Tracking"),
f=0;f<c.length;f++)h=a.h(c[f]).event.toLowerCase(),a.c(c[f])&&(d(m.nonLinearsTracker,h),m.nonLinearsTracker[h].push(a.c(c[f])))}function f(b){b=a.j(b,"Impression");var g=[];if(a.g(b)){d(m.tracker,v.da);d(m.nonLinearsTracker,v.da);for(var c=0;c<b.length;c++){var e=a.c(b[c]);e&&(m.tracker.impression.push(e),m.nonLinearsTracker.impression.push(e),g.push(e))}m.F.push(g)}}function k(b){if(a.g(b)){var g=a.b(b,"ClickThrough");a.g(g)&&(m.videoClicks.url=a.c(g));g=a.b(b,"NonLinearClickThrough");a.g(g)&&(m.nonLinearsVideoclicks.url=
a.c(g));b=a.j(b,"ClickTracking");if(a.g(b))for(d(m.tracker,v.Ca),g=0;g<b.length;g++)a.c(b[g])&&m.tracker.clickTracking.push(a.c(b[g]))}}function l(b){if(b&&(b=a.j(b,"Extension"),a.g(b)))for(var d=0;d<b.length;d++)m.extensions.push(b[d])}function h(b){if(a.g(b)){b=a.j(b,"Companion");for(var d=0;d<b.length;d++){var g=b[d],c=a.c(a.b(g,"Tracking")),e=a.c(a.b(g,"CompanionClickThrough")),f=a.b(g,"StaticResource"),h=a.b(g,"IFrameResource"),M=a.b(g,"HTMLResource");a.g(f)&&m.companion.push({StaticResource:a.c(f),
resourceAttributes:a.h(f),attributes:a.h(f.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e});a.g(h)&&m.companion.push({IFrameResource:a.c(h),resourceAttributes:a.h(h),attributes:a.h(h.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e});a.g(M)&&m.companion.push({HTMLResource:a.c(M),resourceAttributes:a.h(M),attributes:a.h(M.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e})}}b=m.asString.indexOf("<CompanionAds");var d=m.asString.indexOf("</CompanionAds>"),z;-1!=
b&&-1!=d&&(z=m.asString.substr(b,d-b+15));a.g(z)&&(m.companionsAsString=z)}var n=new a.events.u,v={ERROR:"error",da:"impression",Ca:"clickTracking"},m={videoClicks:{},tracker:{},linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:{},nonLinears:[],extensions:[],companion:[],companionsAsString:null,asString:null,duration:null,gotLinear:!1,gotNonLinear:!1,la:!1,isCombi:!1,F:[]},q=null,t={D:!1,VAST:!1,Ad:!1,InLine:!1,Wrapper:!1,Creatives:!1,Creative:!1,Linear:!1,NonLinearAds:!1,VASTAdTagURI:!1,clear:function(){for(var a in this)this.hasOwnProperty(a)&&
"clear"!==a&&(this[a]=!1)}};this.i=function(){return m};this.T=function(){};this.ma=function(g){var c;a:{try{window.DOMParser?t.D=(new DOMParser).parseFromString(g,"application/xml"):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(g),t.D=c)}catch(M){c=!1;break a}c=!0}c||(t.D=!1);q=g.toString();if(!0===b())if(m.asString=q,t.Wrapper&&t.VASTAdTagURI)f(t.Wrapper),k(a.b(t.Linear,"VideoClicks")),k(a.b(t.NonLinearAds,"NonLinear")),e(t.Linear,t.NonLinearAds),h(a.b(t.Creatives,"CompanionAds")),
l(a.b(t.Ad,"Extensions")),m.ca=a.c(t.VASTAdTagURI),t.clear(),n.triggerEvent(4030);else{f(t.InLine);k(a.b(t.Linear,"VideoClicks"));k(a.b(t.NonLinearAds,"NonLinear"));e(t.Linear,t.NonLinearAds);g=a.b(t.NonLinearAds,"NonLinear");if(a.g(g)){d(m,"nonLinears");c=a.b(g,"StaticResource");var v=a.b(g,"IFrameResource"),u=a.b(g,"HTMLResource");a.g(c)&&-1==a.ib.indexOf(a.h(c).creativeType)&&m.nonLinears.push({StaticResource:a.c(c),resourceAttributes:a.h(c),attributes:a.h(c.parentNode),adParameters:a.c(a.b(g,
"AdParameters"))});a.g(v)&&m.nonLinears.push({IFrameResource:a.c(v),resourceAttributes:a.h(v),attributes:a.h(v.parentNode),adParameters:a.c(a.b(g,"AdParameters"))});a.g(u)&&m.nonLinears.push({HTMLResource:a.c(u),resourceAttributes:a.h(u),attributes:a.h(u.parentNode),adParameters:a.c(a.b(g,"AdParameters"))})}m.nonLinears.length||(m.gotNonLinear=!1);c=a.b(t.Linear,"MediaFiles");g=t.Linear&&a.h(t.Linear).skipoffset||void 0;if(a.g(c)){c=a.j(c,"MediaFile");m.linear=[];if(a.g(c))for(v=0;v<c.length;v++)a.c(c[v])&&
m.linear.push({skipoffset:g,nodeValue:a.c(c[v]),attributes:a.h(c[v]),adParameters:a.c(a.b(t.Linear,"AdParameters"))});g&&n.triggerEvent(5501)}h(a.b(t.Creatives,"CompanionAds"));l(a.b(t.Ad,"Extensions"));a.c(a.b(t.Linear,"Duration"))&&(m.duration=a.M(a.c(a.b(t.Linear,"Duration"))));m.isCombi=!0===m.gotLinear&&!0===m.gotNonLinear;if(0<m.extensions.length){m.la=!0;g=m.extensions;c=!1;for(v=0;v<g.length;v++)for(var u=a.j(g[v],"Fallback"),P=0;P<u.length;P++)"true"===a.c(u[P])&&(c=!0);c&&(m.gotLinear=!1,
m.isCombi=!1,m.gotNonLinear=!1,m.ca=!1,m.linear=[],m.nonLinears=[],n.triggerEvent(4100,m.F[m.F.length-1]));n.triggerEvent(4050)}m.isCombi&&n.triggerEvent(4040);if(g=!0===m.gotLinear){g=null;for(var I in m.tracker)g=I;g=!(0==m.linear.length?0:null!=m.linear[0].attributes.width&&null!=m.linear[0].attributes.height&&null!=g)}g&&(t.clear(),n.triggerEvent(4020,2010));m.gotLinear||m.gotNonLinear||n.triggerEvent(4020,2010);m.asString=q;t.clear();n.triggerEvent("AdTagParsed")}};this.a=n.a;this.f=n.f;this.registerGlobalEventDispatcher=
n.registerGlobalEventDispatcher;this.B=n.B}function n(){function b(a){for(var b in a)a.hasOwnProperty(b)&&(isNaN(parseFloat(a[b]))||(a[b]=parseFloat(a[b])))}function g(){var b=k.filter(function(a){return a!==h.Da&&a!==h.OIS});if(!l.OIS)return!1;b.forEach(function(b){l[b]=a.b(l.OIS,b)});l.fixedroll=a.j(l.OIS,h.Da);return!0}function d(){var d;h.Ib.split(",").forEach(function(g){f[g]={};f[g].attributes=a.h(l[g])||{};b(f[g].attributes);var c=a.j(l[g],h.URL);d=[];if(!c.length){var e=a.c(l[g]);a.g(e)&&
d.push(e)}for(e=0;e<c.length;e++)d.push(a.c(c[e]));f[g].urls=d;f[g]=a.extend(f[g],f[g].attributes);f[g].urls.length||delete f[g]});var g=a.j(l.OIS,h.Da);f.fixedrolls=[];for(var c=0;c<g.length;c++){var e=g[c],M=a.h(e)||{},r=a.j(e,h.URL);d=[];b(M);r.length||(e=a.c(e),a.g(e)&&d.push(e));for(e=0;e<r.length;e++)d.push(a.c(r[e]));d.length&&f.fixedrolls.push(a.extend({attributes:M,urls:d},M||{}))}f.fixedrolls.length||delete f.fixedrolls}function c(){if(l.styles){var b=h.Jb.split(",");f.styles={};b.forEach(function(b){f.styles[b]=
{};for(var d=a.j(a.b(l.styles,b),h.Eb),g=0;g<d.length;g++)a.g(d[g].tagName)&&(f.styles[b][d[g].tagName]=a.c(d[g]))})}}function e(){k.forEach(function(a){!1===f[a]&&delete f[a];"true"===f[a]&&(f[a]=!0);"false"===f[a]&&(f[a]=!1)})}var f={},k="OIS key vpaidSingleVideoSlotMode skipButtonPosition skipButtonText preroll midroll postroll fixedroll overlay overlayDelay overlayDuration minDurationForMidrolls customControls adCountdownText adCountdownPosition clickThroughDialogText clickThroughDialogEnabled styles".split(" "),
l={},h={URL:"URL",Da:"fixedroll",OIS:"OIS",Eb:"*",Jb:"colorScheme,fontStyle,dialogBox,buttonStyle",Ib:"preroll,midroll,postroll"};this.parse=function(b){var h;a:{try{window.DOMParser?l.OIS=(new DOMParser).parseFromString(b,"application/xml"):(h=new ActiveXObject("Microsoft.XMLDOM"),h.async=!1,h.loadXML(b),l.OIS=h)}catch(k){h=!1;break a}h=!0}h||(l.OIS=!1);if(!g())return{};d();f.overlay=a.c(l.overlay);f.overlayDelay=a.c(l.overlayDelay);f.overlayDuration=a.c(l.overlayDuration);f.minDurationForMidrolls=
a.c(l.minDurationForMidrolls);f.customControls=a.c(l.customControls);f.adCountdownText=a.c(l.adCountdownText);f.adCountdownPosition=a.c(l.adCountdownPosition);f.clickThroughDialogEnabled=a.c(l.clickThroughDialogEnabled);f.skipButtonPosition=a.c(l.skipButtonPosition);f.skipButtonText=a.c(l.skipButtonText);f.vpaidSingleVideoSlotMode=a.c(l.vpaidSingleVideoSlotMode);f.key=a.c(l.key);var m=a.b(l.OIS,"clickThroughDialogText");h=a.c(a.b(m,"query"));var n=a.c(a.b(m,"reject")),m=a.c(a.b(m,"accept"));f.clickThroughDialogText=
{};f.clickThroughDialogText.query=h;f.clickThroughDialogText.reject=n;f.clickThroughDialogText.accept=m;c();f.Oc=b.toString();e();return f}}function D(){function b(a){l=e.i();switch(a.type){case "AdTagParsed":(l=e.i())&&l.aa&&l.aa.length&&(u.log(5050),c.triggerEvent(4300,l.aa));c.triggerEvent("AdTagParsed",l);break;case 4030:c.triggerEvent(4030);break;case 4020:1020===a.info&&c.triggerEvent(7E3);c.triggerEvent(4020);break;case 4040:c.triggerEvent(4040);break;case 4100:c.triggerEvent(4100);break;case 4200:g(a.info);
u.log(5052);c.triggerEvent(4200,a.info);break;case 5501:c.triggerEvent(5501)}}function g(a){e.f("AdTagParsed",b);e.f(4020,b);e.f(4030,b);e.f(4040,b);e.f(4050,b);e.f(4100,b);e.f(4200,b);e.f(5501,b);e=null;n=a;n.$b().pods.length&&(d(),e.f(4200,b),a=n.Z(),null!==a?(e.xc(a.id),e.ma(f)):c.triggerEvent(4210))}function d(){var a=null;switch(k){case "2":a=W;break;case "3":a=y;break;default:c.triggerEvent(4020,102)}a&&(e=null,e=new a,e.a("AdTagParsed",b),e.a(4020,b),e.a(4030,b),e.a(4040,b),e.a(4050,b),e.a(4100,
b),e.a(4200,b),e.a(5501,b))}var c=new a.events.u,e=null,f=null,k=null,l=null,h=null,n=null;this.a=c.a;this.f=c.f;this.registerGlobalEventDispatcher=c.registerGlobalEventDispatcher;this.B=c.B;this.Oa=function(a){g(a)};this.i=function(){return l};this.ma=function(a){f=a;var b;a:{b=f;try{if(window.DOMParser)h=(new DOMParser).parseFromString(b,"application/xml");else{var g=new ActiveXObject("Microsoft.XMLDOM");g.async=!1;g.loadXML(b);h=g}}catch(l){b=!1;break a}b=!0}b?(k=h.getElementsByTagName("VAST")[0].getAttribute("version"),
k=null!==k&&""!==k&&k.length?k.charAt(0):""):c.triggerEvent(4020);e||d();e.ma(a)}}function L(b){function g(a){return k[a].filter(function(a){return!1===a.requested}).length}function d(a){var b=null;k[a].length&&g(a)&&(k[a].forEach(function(a){!1===a.requested&&null===b&&(a.requested=!0,b=a)}),l={subset:a,id:b&&b.hasOwnProperty("id")?b.id:null});return b}function c(){return k.pods.filter(function(a){return!0===a.error&&!1===a.errorReplaced}).length}function e(){var a=!1;k.pods.forEach(function(b){!0===
b.error&&!1===b.errorReplaced&&!1===a&&(a=b.errorReplaced=!0)})}var f=new a.events.u;this.a=f.a;this.f=f.f;this.registerGlobalEventDispatcher=f.registerGlobalEventDispatcher;this.B=f.B;var k={},l=null,h=10,n=!1;this.Bc=function(a){u.log(5002,h,a);h=a};this.Z=function(){u.log(5008);if(!0===n)return null;if(k&&k.pods&&k.pods.length>h&&k&&k.buffet&&k.buffet.length&&!1===n){var a=d("buffet");n=!0;k.pods=[];u.log(5007);return a}a=d("pods");return null!==a?a:c()&&(a=d("buffet"),null!==a)?(e(),a):null};
this.$b=function(){return k};this.ob=function(){return{podsLeft:g("pods"),podsFailed:c(),buffetLeft:g("buffet"),proceed:function(){return 0!==this.podsLeft||0<this.podsFailed&&0<this.buffetLeft}}};this.La=function(){u.log(5009);l&&l.hasOwnProperty("id")&&l.hasOwnProperty("subset")&&null!==l.subset&&k[l.subset].forEach(function(a){a.id===l.id&&(a.error=!0)})};(function(){for(var d=a.j(b.VAST,"Ad"),g={ads:d,length:d.length,pods:[],buffet:[]},c=0;c<d.length;c++){var e=d[c].getAttribute("sequence");a.sb(e)?
g.pods.push({id:c,sequence:a.sb(e),node:d[c],requested:!1,error:!1,errorReplaced:!1}):g.buffet.push({id:c,node:d[c],requested:!1,error:!1})}k=g})();(function(){k.pods.length&&k.pods.sort(function(a,b){return a.sequence>b.sequence?1:a.sequence<b.sequence?-1:0})})()}function y(){function b(){function b(){for(var d=a.j(p.Creatives,"Creative"),g=0;g<d.length;g++)if(p.NonLinearAds=a.b(d[g],"NonLinearAds"),p.NonLinearAds){r.gotNonLinear=!0;break}}if(a.g(p.D)){try{if(!(p.VAST=a.b(p.D,"VAST")))throw 1010;
d(p.VAST);if(!(p.Ad=a.j(p.VAST,"Ad")[u]))throw 1020;if(!(p.InLine=a.b(p.Ad,"InLine"))&&!(p.Wrapper=a.b(p.Ad,"Wrapper")))throw 1030;if(p.InLine){d(p.InLine);if(!(p.Creatives=a.b(p.InLine,"Creatives")))throw 1040;if(!(p.Creative=a.j(p.Creatives,"Creative")[0]))throw 1050;if(!(p.Linear=a.b(p.Creative,"Linear"))&&!(p.NonLinearAds=a.b(p.Creative,"NonLinearAds")))throw 1060;p.Linear&&(r.gotLinear=!0);p.NonLinearAds?r.gotNonLinear=!0:b()}else{if(!(p.VASTAdTagURI=a.b(p.Wrapper,"VASTAdTagURI")))throw 1070;
p.Wrapper&&(d(p.Wrapper),p.Creatives=a.b(p.Wrapper,"Creatives"),p.Creative=a.j(p.Creatives,"Creative")[0],p.Linear=a.b(p.Creative,"Linear"),p.NonLinearAds=a.b(p.Creative,"NonLinearAds"),b(),r.gotNonLinear=!1)}}catch(g){return v.triggerEvent(4020,g),!1}1<a.j(p.VAST,"Ad").length&&v.triggerEvent(4200,new L(p));return!0}return!1}function g(b,d){a.isArray(b[d])||(b[d]=[])}function d(b){b=a.j(b,"Error");if(a.g(b)){g(r.tracker,t.ERROR);g(r.nonLinearsTracker,t.ERROR);for(var d=0;d<b.length;d++)a.c(b[d])&&
(r.tracker.error.push(a.c(b[d])),r.nonLinearsTracker.error.push(a.c(b[d])));r.tracker.error=a.unique(r.tracker.error);r.nonLinearsTracker.error=a.unique(r.nonLinearsTracker.error)}}function c(b,d){if(a.g(b))for(var e=a.j(b,"Tracking"),f=0;f<e.length;f++){var h=a.h(e[f]).event.toLowerCase();a.c(e[f])&&(g(r.tracker,h),"progress"===h?r.tracker[h].push({nodeValue:a.c(e[f]),offset:a.h(e[f]).offset}):r.tracker[h].push(a.c(e[f])))}if(a.g(d))for(e=a.j(d,"Tracking"),f=0;f<e.length;f++)h=a.h(e[f]).event.toLowerCase(),
a.c(e[f])&&(g(r.nonLinearsTracker,h),r.nonLinearsTracker[h].push(a.c(e[f])))}function e(b){b=a.j(b,"Impression");var d=[];if(a.g(b)){g(r.tracker,t.da);g(r.nonLinearsTracker,t.da);for(var c=0;c<b.length;c++){var f=a.c(b[c]);f&&(r.tracker.impression.push(f),r.nonLinearsTracker.impression.push(f),d.push(f))}r.F.push(d)}}function f(b){if(a.g(b)){var d=a.b(b,"ClickThrough");a.g(d)&&(r.videoClicks.url=a.c(d));d=a.b(b,"NonLinearClickThrough");a.g(d)&&(r.nonLinearsVideoclicks.url=a.c(d));b=a.j(b,"ClickTracking");
if(a.g(b))for(g(r.tracker,t.Ca),d=0;d<b.length;d++)a.c(b[d])&&r.tracker.clickTracking.push(a.c(b[d]))}}function k(b){if(b&&(b=a.j(b,"Extension"),a.g(b)))for(var d=0;d<b.length;d++)r.extensions.push(b[d])}function l(b){var d={attributes:{}},g=a.b(b,"IconClicks"),c=a.b(b,"StaticResource"),e=a.b(b,"IFrameResource"),f=a.b(b,"HTMLResource");"program width height xPosition yPosition apiFramework offset duration".split(" ").forEach(function(a){d.attributes[a]=b.getAttribute(a)||null});d.IconViewTracking=
a.c(a.b(b,"IconViewTracking"));d.IconClickThrough=a.c(a.b(g,"IconClickThrough"));d.IconClickTracking=a.c(a.b(g,"IconClickTracking"));d.StaticResource={nodeValue:a.c(c)||null,attributes:c?a.h(c):null};d.IFrameResource={nodeValue:a.c(e)||null,attributes:e?a.h(e):null};d.HTMLResource={nodeValue:a.c(f)||null,attributes:f?a.h(f):null};return d}function h(b){if(b&&(b=a.j(b,"Icon"),a.g(b)))for(var d=0;d<b.length;d++)r.aa.push(l(b[d]))}function n(b){if(a.g(b)){b=a.j(b,"Companion");for(var d=0;d<b.length;d++){var g=
b[d],c=a.c(a.b(g,"Tracking")),e=a.c(a.b(g,"CompanionClickThrough")),f=a.b(g,"StaticResource"),h=a.b(g,"IFrameResource"),m=a.b(g,"HTMLResource");a.g(f)&&r.companion.push({StaticResource:a.c(f),resourceAttributes:a.h(f),attributes:a.h(f.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e});a.g(h)&&r.companion.push({IFrameResource:a.c(h),resourceAttributes:a.h(h),attributes:a.h(h.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e});a.g(m)&&r.companion.push({HTMLResource:a.c(m),resourceAttributes:a.h(m),
attributes:a.h(m.parentNode),adParameters:a.c(a.b(g,"AdParameters")),ha:c,ga:e})}}b=r.asString.indexOf("<CompanionAds");var d=r.asString.indexOf("</CompanionAds>"),M;-1!=b&&-1!=d&&(M=r.asString.substr(b,d-b+15));a.g(M)&&(r.companionsAsString=M)}var v=new a.events.u,m=a.Cb.mp4.za,q=a.na,t={ERROR:"error",da:"impression",Ca:"clickTracking"},r={videoClicks:{},tracker:{},linear:[],nonLinearsVideoclicks:{},nonLinearsTracker:{},nonLinears:[],extensions:[],aa:[],companion:[],companionsAsString:null,asString:null,
duration:null,gotLinear:!1,gotNonLinear:!1,la:!1,isCombi:!1,F:[]},u=0,F=null,p={D:!1,VAST:!1,Ad:!1,InLine:!1,Wrapper:!1,Creatives:!1,Creative:!1,Linear:!1,NonLinearAds:!1,VASTAdTagURI:!1,clear:function(){for(var a in this)this.hasOwnProperty(a)&&"clear"!==a&&(this[a]=!1)}};this.xc=function(a){u=a};this.i=function(){return r};this.T=function(){};this.ma=function(d){var l;a:{try{window.DOMParser?p.D=(new DOMParser).parseFromString(d,"application/xml"):(l=new ActiveXObject("Microsoft.XMLDOM"),l.async=
!1,l.loadXML(d),p.D=l)}catch(u){l=!1;break a}l=!0}l||(p.D=!1);F=d.toString();if(!0===b())if(r.asString=F,p.Wrapper&&p.VASTAdTagURI)e(p.Wrapper),f(a.b(p.Linear,"VideoClicks")),f(a.b(p.NonLinearAds,"NonLinear")),c(p.Linear,p.NonLinearAds),n(a.b(p.Creatives,"CompanionAds")),k(a.b(p.Ad,"Extensions")),h(a.b(p.Ad,"Icons")),r.ca=a.c(p.VASTAdTagURI),p.clear(),v.triggerEvent(4030);else{e(p.InLine);f(a.b(p.Linear,"VideoClicks"));f(a.b(p.NonLinearAds,"NonLinear"));c(p.Linear,p.NonLinearAds);d=a.b(p.NonLinearAds,
"NonLinear");if(a.g(d)){g(r,"nonLinears");l=a.b(d,"StaticResource");var t=a.b(d,"IFrameResource"),y=a.b(d,"HTMLResource");a.g(l)&&-1==a.ib.indexOf(a.h(l).creativeType)&&r.nonLinears.push({StaticResource:a.c(l),resourceAttributes:a.h(l),attributes:a.h(l.parentNode),adParameters:a.c(a.b(d,"AdParameters"))});a.g(t)&&r.nonLinears.push({IFrameResource:a.c(t),resourceAttributes:a.h(t),attributes:a.h(t.parentNode),adParameters:a.c(a.b(d,"AdParameters"))});a.g(y)&&r.nonLinears.push({HTMLResource:a.c(y),resourceAttributes:a.h(y),
attributes:a.h(y.parentNode),adParameters:a.c(a.b(d,"AdParameters"))})}r.nonLinears.length||(r.gotNonLinear=!1);l=a.b(p.Linear,"MediaFiles");d=p.Linear&&a.h(p.Linear).skipoffset||void 0;if(a.g(l)){l=a.j(l,"MediaFile");r.linear=[];if(a.g(l))for(t=0;t<l.length;t++){if(y=a.c(l[t]))y=a.h(l[t]).type,y=-1!=y.indexOf("video/webm")||-1!=m.indexOf(y)||-1!=y.indexOf("video/ogg")||-1!=q.indexOf(y);y&&r.linear.push({skipoffset:d,nodeValue:a.c(l[t]),attributes:a.h(l[t]),adParameters:a.c(a.b(p.Linear,"AdParameters"))})}d&&
v.triggerEvent(5501)}n(a.b(p.Creatives,"CompanionAds"));k(a.b(p.Ad,"Extensions"));h(a.b(p.Ad,"Icons"));a.c(a.b(p.Linear,"Duration"))&&(r.duration=a.M(a.c(a.b(p.Linear,"Duration"))));r.isCombi=!0===r.gotLinear&&!0===r.gotNonLinear;if(0<r.extensions.length){r.la=!0;d=r.extensions;l=!1;for(t=0;t<d.length;t++)for(var y=a.j(d[t],"Fallback"),x=0;x<y.length;x++)"true"===a.c(y[x])&&(l=!0);l&&(r.gotLinear=!1,r.isCombi=!1,r.gotNonLinear=!1,r.ca=!1,r.linear=[],r.nonLinears=[],v.triggerEvent(4100,r.F[r.F.length-
1]));v.triggerEvent(4050)}r.isCombi&&v.triggerEvent(4040);if(d=!0===r.gotLinear){d=null;for(var w in r.tracker)d=w;d=!(0==r.linear.length?0:null!=r.linear[0].attributes.width&&null!=r.linear[0].attributes.height&&null!=d)}d&&(p.clear(),v.triggerEvent(4020,2010));r.gotLinear||r.gotNonLinear||v.triggerEvent(4020,2010);r.asString=F;p.clear();v.triggerEvent("AdTagParsed")}};this.a=v.a;this.f=v.f;this.registerGlobalEventDispatcher=v.registerGlobalEventDispatcher;this.B=v.B}function p(){function b(){ja=
a.createElement("iframe",{style:"width:0;height:0;top:0;left:0;position:absolute;overflow:hidden;border:none; visibility:hidden"});ja.onload=g;da.insertBefore(ja,da.firstChild)}function g(){ja.Ia=(ja.contentDocument||ja.contentWindow.document).getElementsByTagName("body")[0];ja.Pc=ja.Ia.parentNode.parentNode;var b=a.createElement("script",{type:"text/javascript"});b.innerHTML="var inDapIF = true;";ja.Ia.appendChild(b);Ca=a.createElement("div",{id:Ja,style:"position:absolute;width:100%;height:100%;top:0;left:0; background:rgba(0,0,0,1); display:none"});
da.appendChild(Ca);Ca=document.getElementById(Ja)||da.ownerDocument.getElementById(Ja);ca=a.createElement("video",{id:Ka,style:"position:absolute;width:100%;height:100%;top:0;left:0;display:none"});da.appendChild(ca);ca=document.getElementById(Ka)||da.ownerDocument.getElementById(Ka);Y=a.createElement("div",{id:La,style:"position:absolute;width:100%;height:100%;top:0;left:0;overflow:hidden;"});da.appendChild(Y);Y=document.getElementById(La)||da.ownerDocument.getElementById(La);la=new ka(ca,Ma,Ca,
pa,Da.w.vpaidSingleVideoSlotMode);-1<ma.indexOf(".swf")||(b=a.createElement("script",{src:a.V.Y(ma)}),b.onload=function(){d()},b.onerror=function(){S.triggerEvent(6010,void 0)},ja.Ia.appendChild(b))}function d(){if(a.C||a.Fa)S.triggerEvent(6010,void 0);else{if(!J){var b=ja.contentWindow.getVPAIDAd;if(a.isFunction(b))J=b();else return}if(c(J)){u.log(961,J.handshakeVersion("2.0"));-1==="1.1,2.0".indexOf(J.handshakeVersion("2.0"))&&S.triggerEvent(6010,void 0);var b={AdParameters:fa},d={slot:Y,videoSlot:la.bc(),
videoSlotCanAutoPlay:!0,source:ma};e();ia=new ta;ia.Sa("initad",function(){u.log(1E3);S.triggerEvent(6010,void 0)});var g=function(a){if(!a)return!1;var b=a.style.width;a=/scale|transform/gi.test(a.style.cssText);return!!parseInt(b,10)&&-1===b.indexOf("%")&&!a},f,h;g(Y)?(f=parseInt(Y.style.width,10),h=parseInt(Y.style.height,10)):g(da)?(f=parseInt(da.style.width,10),h=parseInt(da.style.height,10)):g(da.parentNode)&&(f=parseInt(da.parentNode.style.width,10),h=parseInt(da.parentNode.style.height,10));
var m=pa.ka();g(m)?(f=parseInt(m.style.width,10),h=parseInt(m.style.height,10)):g(m.parentNode)&&(f=parseInt(m.parentNode.style.width,10),h=parseInt(m.parentNode.style.height,10));Ea.initAd(f,h,"normal",300,b,d)}else u.log(962)}}function c(b){for(var d="handshakeVersion initAd startAd stopAd skipAd resizeAd pauseAd resumeAd expandAd collapseAd subscribe unsubscribe getAdLinear".split(" "),g=0;g<d.length;g++)if(!a.isFunction(b[d[g]]))return!1;return!0}function e(){var a={AdStarted:f,AdStopped:k,AdSkipped:l,
AdLoaded:h,AdLinearChange:n,AdSizeChange:p,AdExpandedChange:m,AdSkippableStateChange:q,AdDurationChange:t,AdRemainingTimeChange:r,AdVolumeChange:F,AdImpression:y,AdClickThru:x,AdInteraction:w,AdVideoStart:A,AdVideoFirstQuartile:V,AdVideoMidpoint:C,AdVideoThirdQuartile:oa,AdVideoComplete:B,AdUserAcceptInvitation:D,AdUserMinimize:U,AdUserClose:E,AdPaused:G,AdPlaying:K,AdError:L,AdLog:N},b;for(b in a)J.subscribe(a[b],b,Ea)}function f(){u.log(967);ea.callTracker("creativeView");J.getAdLinear()&&(la.show(),
ca.volume=pa.m("volume"),X=ca.volume);Na=new ra(O);S.triggerEvent("AdStarted",void 0)}function k(){if(J){var a={AdStarted:f,AdStopped:k,AdSkipped:l,AdLoaded:h,AdLinearChange:n,AdSizeChange:p,AdExpandedChange:m,AdSkippableStateChange:q,AdDurationChange:t,AdRemainingTimeChange:r,AdVolumeChange:F,AdImpression:y,AdClickThru:x,AdInteraction:w,AdVideoStart:A,AdVideoFirstQuartile:V,AdVideoMidpoint:C,AdVideoThirdQuartile:oa,AdVideoComplete:B,AdUserAcceptInvitation:D,AdUserMinimize:U,AdUserClose:E,AdPaused:G,
AdPlaying:K,AdError:L,AdLog:N},b;for(b in a)J.unsubscribe(a[b],b)}u.log(966);la.hide();Na&&Na.destroy();"nonLinear"===Fa&&pa.m("paused")&&pa.U();S.triggerEvent(6050,void 0)}function l(){u.log(965);ea.callTracker("skip");Ea.stopAd()}function h(){u.log(964);Ea.startAd();ia.log("onadloaded");Ga.Dc()}function n(){u.log(951,J.getAdLinear());J.getAdLinear()?(pa.N(),la.show()):(la.hide(),pa.U())}function p(){u.log(952,J.getAdWidth(),J.getAdHeight())}function m(){u.log(953,J.getAdExpanded());Ga.pc(J.getAdExpanded());
J.getAdExpanded()?(pa.N(),ea.callTracker("expand")):(pa.U(),ea.callTracker("collapse"))}function q(){u.log(954,J.getAdSkippableState())}function t(){u.log(955,J.getAdDuration());R()}function r(){u.log(956,J.getAdRemainingTime());R()}function F(){u.log(957,J.getAdVolume());0<J.getAdVolume()&&0===X?(ea.eb(),X=J.getAdVolume()):0===J.getAdVolume()&&0<X&&(X=0,ea.cb())}function y(){u.log(963);ea.bb()}function x(b,d,g){u.log(968,b,d,g);g||!g&&!b?(Ya=a.lc(b)?b:void 0,Y.addEventListener("mousedown",sa,!1),
la.on("play",sa),la.pause(),Da.w.clickThroughDialogEnabled&&qa?(qa.show(),qa.a("accept",W),qa.a("reject",sa)):W()):ea.$a()}function w(a){u.log(972,a);ea.callTracker("interaction")}function A(){u.log(973);ea.callTracker("start")}function V(){u.log(974);ea.callTracker("firstQuartile")}function C(){u.log(975);ea.callTracker("midpoint")}function oa(){u.log(976);ea.callTracker("thirdQuartile")}function B(){u.log(977);S.triggerEvent("AdVideoComplete",void 0);ea.callTracker("complete")}function D(){u.log(978);
ea.callTracker("acceptInvitation")}function U(){u.log(979);ea.callTracker("collapse")}function E(){u.log(981);ea.callTracker("close");S.triggerEvent(6040,void 0)}function G(){u.log(980);ia.log("onadpaused");ea.callTracker("pause")}function K(){u.log(982);ia.log("onadplaying");ea.callTracker("resume")}function L(a){u.log(958,a);S.triggerEvent(6010,a)}function N(a){u.log(959,a)}function O(){R()}function R(){xa&&xa.update(J.getAdDuration()-J.getAdRemainingTime(),J.getAdDuration())}function W(){u.log(402);
xa&&xa.hide();qa&&(qa.hide(),qa.f("accept",W),qa.f("reject",sa));la&&la.setControls(!0);S.triggerEvent(6060,Ya)}function sa(){xa&&xa.show();qa&&(qa.hide(),qa.f("accept",W),qa.f("reject",sa));la&&(la.off("play",sa),la.play());Y.removeEventListener("mousedown",sa,!1)}var X,S=new a.events.u,ia;X=void 0;var ja,ma,fa,Y,da,ca,la,Ca,Ja="videoSlotBackground"+Math.random(),La="vpaidSlot"+Math.random(),Ka="videoSlot"+Math.random(),Ma,Ga,pa,ea,Fa,xa,qa,Da,Ya,Na,Ea=this,J;this.T=function(a,d,g,c,e){ma=a.StaticResource;
fa=a.adParameters;Ga=d;pa=g;ea=c;da=d.pb();Ma=pa.ka();Da=e;d.qb();b();Fa="nonLinear"};this.hc=function(a,d,g,c,e){u.log(1001,e.w.vpaidSingleVideoSlotMode);ma=a.nodeValue;fa=a.adParameters;Ga=d;pa=g;ea=c;da=d.pb();Ma=pa.ka();Da=e;d.qb();b();Fa="linear"};this.initAd=function(a,b,d,g,c,e){u.log(1002,a,b,d);J.initAd(a,b,d,g,c,e)};this.startAd=function(){u.log(1003);J.startAd()};this.pauseAd=function(){u.log(1004);ia.Sa("pausead",function(){u.log(1005)});J.pauseAd()};this.resumeAd=function(){u.log(1006);
ia.Sa("resumead",function(){u.log(1007)});J.resumeAd()};this.stopAd=function(){u.log(1008);J&&J.stopAd()};this.setAdVolume=function(a){u.log(1009,a);J.setAdVolume(a)};this.resizeAd=function(a,b,d){u.log(1010,a,b,d);la&&"linear"===Fa?(J.resizeAd(a,b,d),da.style.cssText+="width:"+parseInt(a,10)+"px;height:"+parseInt(b,10)+"px;"):J.resizeAd(a,b,d)};this.expandAd=function(){u.log(1011);J.expandAd()};this.collapseAd=function(){u.log(1012);J.collapseAd()};this.skipAd=function(){u.log(1013);J.getAdSkippableState()&&
J.skipAd()};this.Aa=function(){u.log(1014);la.Aa(R)};this.yb=function(a){J=a;la?d():setTimeout(this.yb.bind(this,a),50)};this.a=S.a;this.f=S.f;this.registerGlobalEventDispatcher=S.registerGlobalEventDispatcher}function ra(a){function g(){}function d(){c=setInterval(function(){f()},e)}var c,e=1E3,f;this.setInterval=function(a){a&&(e=a);clearInterval(c);d()};this.destroy=function(){clearInterval(c);f=g};this.start=function(){clearInterval(c);d()};f="function"===typeof a?a:g;d()}function ta(){function a(b,
c,e){g.forEach(function(a){a.event===b.toUpperCase()&&(a.active=!0,a.ba=e,a.ea=c,a.H=window.setTimeout(function(){g.forEach(function(a){a.event===b.toUpperCase()&&a.active&&(a.active=!1,window.clearTimeout(a.H),d.map(function(b){if(b.time>=a.ba&&b.time<=a.ba+a.timeout)return b}).some(function(b){return b.event===a.qa?!0:!1})||a.ea())})},a.timeout))})}var g=[{active:!1,event:"INITAD",qa:"ONADLOADED",timeout:4E3,H:null,ba:null,ea:null},{active:!1,event:"RESIZEAD",qa:"ONADSIZECHANGED",timeout:1E3,H:null,
ba:null,ea:null},{active:!1,event:"PAUSEAD",qa:"ONADPAUSED",timeout:100,H:null,ba:null,ea:null},{active:!1,event:"RESUMEAD",qa:"ONADPLAYING",timeout:100,H:null,ba:null,ea:null}],d=[];this.log=function(a){d.push({time:(new Date).getTime(),event:a.toUpperCase()})};this.Sa=function(g,c){var e=(new Date).getTime();a(g,c,e);d.push({time:e,event:g.toUpperCase()})}}function ka(b,g,d,c,e){var f=new a.events.u,k,l,h;this.s=function(b){if(e)return c.s(b);if(b)switch(b){case "width":return a.getWidth(h);case "height":return a.getHeight(h);
case "top":return h.offsetTop;case "left":return h.offsetLeft;default:return null}return{width:a.getWidth(h),height:a.getHeight(h),top:h.offsetTop,left:h.offsetLeft}};this.show=function(){e||(h.style.display="block",d.style.display="block",g.style.visibility="hidden")};this.hide=function(){e||(g.style.visibility="visible",h.style.display="none",d.style.display="none")};this.Aa=function(){};this.pause=function(){h.pause()};this.play=function(){h.play()};this.setControls=function(a){e?c.setControls(a):
h.controls=a};this.on=function(a,b){l.on(h,a,b)};this.off=function(a,b){l.off(h,a,b)};this.a=f.a;this.f=f.f;this.bc=function(){return k};(function(){l=new a.events.Event;e?(h=g,d.parentNode.removeChild(d),b.parentNode.removeChild(b),k=new ma(h),k=a.extend(k,{setSrc:function(a){c.wa({url:a})},setControls:function(a){c.setControls(a)},setCurrentTime:function(a){c.wa({url:c.m.currentSrc},a)},load:function(){},play:function(){c.U()},pause:function(){c.N()}})):(h=b,k=new ma(h))})()}function ma(b){function g(a,
b,d,g){var c=Object.getOwnPropertyDescriptor(a,b);if(c&&c.configurable){var e;if(c.get||c.set)e=c;else{var f=c.value;e={get:function(){return f},set:function(a){f=a}}}var h=d?function(){return d.call(this,b,e)}:e.get,k=g?function(a){g.call(this,b,a,e)}:e.set;Object.defineProperty(a,b,{get:e.get?h:void 0,set:e.set?k:void 0,enumerable:c.enumerable,configurable:!0})}}function d(a){k[a]=p[a];return k[a]}function c(a,b){for(var d="error crossOrigin buffered paused played autoplay controller videoTracks height networkState readyState duration defaultPlaybackrate seekable loop defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup audioTracks width videoHeight".split(" "),
g=d.length,e=!1;0<=--g;)if(d[g]===a){e=!0;break}if(!e&&"style"!==a){k[a]=b;switch(a){case "src":n.setSrc(b);return;case "controls":n.setControls(b);return;case "currentTime":n.setCurrentTime(b);return}p[a]=k[a]}}function e(){for(var a="error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),
b=a.length;0<=--b;)k[a[b]]=p[a[b]]}function f(a){h.rc(a.type,a);e()}var k={},l,h,n=this,p;this.setAttribute=function(a,b){"type"!==a&&"src"!==a||p.setAttribute(a,b)};this.getAttribute=function(a){return p.getAttribute(a)};this.removeAttribute=function(a){return p.removeAttribute(a)};this.setSrc=function(a){p.src=a};this.setControls=function(a){p.controls=!!a};this.setCurrentTime=function(a){p.currentTime=a};this.play=function(){p.play()};this.pause=function(){p.pause()};this.load=function(){p.load()};
this.canPlayType=function(a){return p.canPlayType(a)};this.destroy=function(){l.off(p,"loadstart,emptied,canplaythrough,ended,ratechange,progress,stalled,playing,durationchange,volumechange,suspend,loadedmetadata,waiting,timeupdate,abort,loadeddata,seeking,play,error,canplay,seeked,pause",f)};this.addEventListener=function(a,b){h.a(a,b)};this.removeEventListener=function(a,b){h.sc(a,b)};this.dispatchEvent=function(a){p.dispatchEvent(a)};p=b;h=new a.events.u;l=new a.events.Event;l.on(p,"loadstart,emptied,canplaythrough,ended,ratechange,progress,stalled,playing,durationchange,volumechange,suspend,loadedmetadata,waiting,timeupdate,abort,loadeddata,seeking,play,error,canplay,seeked,pause",
f);e();(function(){for(var a="error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),b=a.length;0<=--b;)n[a[b]]=k[a[b]];n.style={}})();(function(){for(var a="error crossOrigin buffered currentTime paused played autoplay controller muted videoTracks height poster src networkState readyState duration defaultPlaybackrate seekable loop controls defaultMuted textTracks videoWidth currentSrc preload seeking startDate playbackRate ended mediaGroup volume audioTracks width videoHeight".split(" "),
b=a.length;0<=--b;)g(n,a[b],d,c);g(n,"style",d,c)})()}c.prototype.debug=!1;c.prototype.log=function(){return null};window.InstreamapiDebug=c;var ia={level:0,method:"AdControl",Sc:"NonLinear VPAID detected."},R={extensions:{},view:{}},K=[],F=[];e.prototype={constructor:e,apply:function(a){a.addEventListener=e.prototype.addEventListener;a.rb=e.prototype.rb;a.removeEventListener=e.prototype.removeEventListener;a.dispatchEvent=e.prototype.dispatchEvent},addEventListener:function(a,g){this.J||(this.J=
{});var d=this.J;d[a]||(d[a]=[]);-1===d[a].indexOf(g)&&d[a].push(g)},rb:function(a,g){if(!this.J)return!1;var d=this.J;return d[a]||-1===d[a].indexOf(g)?!1:!0},removeEventListener:function(a,g){if(this.J){var d=this.J[a];if(d){var c=d.indexOf(g);-1!==c&&d.splice(c,1)}}},dispatchEvent:function(a){if(this.J){var g=this.J[a];if(g)for(var d=g.length,c=0;c<d;c++)(g[c]||function(){}).apply(this,[].slice.call(arguments))}}};var a=function(a){a.Tc=function(a){var d={};a.split("?")[1].split("&").forEach(function(a){a=
a.split("=");d[decodeURIComponent(a[0])]=decodeURIComponent(a[1])||null});return d};a.Cb={mp4:{typeExtension:"mp4",typeString:"video/mp4",za:"video/mp4|video/x-mp4"},ogv:{typeExtension:"ogv",typeString:"video/ogg",za:"video/ogg"},webm:{typeExtension:"webm",typeString:"video/webm",za:"video/webm"}};a.na="application/javascript|application/x-javascript|text/javascript";a.ib="application/x-shockwave-flash";a.Yb=function(){var g=document.createElement("video"),d=[],c=a.Cb,e={},f;for(f in c)c.hasOwnProperty(f)&&
(c[f].result=g.canPlayType(c[f].typeString),d.push(c[f].typeExtension+":"+c[f].result),""!==c[f].result&&(e[f]=c[f]));u.log(901,d.join(", "));return e};a.Fc=function(a){var d="";/\?/.test(a)&&(a=a.split("?"),a=a[0]);var b=a.split("."),b=b[b.length-1];["mp4","ogv","webm"].forEach(function(a){b===a&&(d=a)});return d};a.Va=!1;a.v=navigator.userAgent;a.Kb=/MSIE/.test(a.v);a.Nc=/Opera/.test(a.v);a.Lb=/mobile/i.test(a.v);a.Ua=/android/i.test(a.v);a.Vc=function(){["HTC Sensation","HTC Sense"].forEach(function(g){(new RegExp(g,
"i")).test(a.v)&&(a.Va=!0)})}();a.C=a.Ua&&/mobile/i.test(a.v)&&!(/chrome/i.test(a.v)&&/Mobile Safari/.test(a.v))&&!a.Va;a.Ob=a.C||/iPad/i.test(a.v);a.Nb=/TV/.test(a.v);a.Ea=/iP(hone|ad|od)/i.test(a.v);a.Fa=a.C||/iP(hone|od)/i.test(a.v);a.Lc=a.Ua&&/chrome/i.test(a.v);a.Mb=/Mobile Safari/.test(a.v);a.Mc=!/chrome/i.test(a.v)&&/android/i.test(a.v)&&/safari/i.test(a.v)&&(!a.Lb||a.Mb);a.jb=function(){return a.Fa?300:a.Ob?670:a.Nb?1100:0};a.Qc=function(a,d,b){return Number(a)>=d&&Number(a)<=b};a.tb=function(a){return"[object Object]"===
Object.prototype.toString.call(a)};a.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};a.lc=function(a){return"[object String]"===Object.prototype.toString.call(a)};a.isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)};a.g=function(a){return""!=a&&null!=a&&void 0!=a};a.A=function(a,d){if(a)for(var b in d)a.style[b]=d[b]};a.V={K:function(a){return new RegExp("[\\[%]+"+a+"[\\]%]+","gi")},vc:function(a){if(!a)return!1;var d=new Date(null);
d.setSeconds(a);return d.toISOString().substr(11,8)+".000"},G:function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16)})},Ic:function(a){var d=new Date,b=d.toISOString(),d=d.getTimezoneOffset()/60,d=d.toString().split("");2===d.length&&d.splice(1,0,"0");d=d.join("");b=b.replace("Z",d);return a.replace(this.K("(timestamp)"),this.G(b))},errorCode:function(a,d){return d?a.replace(this.K("(errorcode)"),this.G(d)):a},Ub:function(a,d){var b=this.vc(d);
return a.replace(this.K("(contentplayhead)"),this.G(b||"00:00:00.000"))},Qb:function(a){var d=this.K("(cachebusting|cache_?buster|rand(om|num))"),b=this.G(Math.round(1E8*Math.random()));return a.replace(d,b)},assetUri:function(a,d){if(!d)return a;var b=a.replace(this.K("(asseturi)"),this.G(d));return this.Ja(b,"[ASSETURI",d)},pageUri:function(a,d){if(!d)return a;var b=a.replace(this.K("(pageuri)"),this.G(d));return this.Ja(b,"[pageuri",d)},pageTitle:function(a,d){return d?a.replace(this.K("(pagetitle)"),
this.G(d)):a},techVersion:function(a,d){return d?a.replace(this.K("(techversion)"),this.G(d)):a},Y:function(a,d){d=d||{};var b=this.Ub(a,d.timeOffset),b=this.assetUri(b,d.assetUri),b=this.pageUri(b,d.pageUri),b=this.pageTitle(b,d.pageTitle),b=this.techVersion(b,d.techVersion),b=this.Qb(b);return this.Ic(b)},Ja:function(a,b,c){if(-1===a.indexOf(b))return a;var e=a.substr(a.indexOf(b),a.indexOf("]",a.indexOf(b))-a.indexOf(b)+1),f=0<=e.indexOf("|")?parseInt(e.split("|")[1].slice(0,-1),10):0;a=0===f?
a.replace(e,this.G(c)):a.replace(e,this.G(c.substr(0,f)));0<=a.indexOf(b)&&(a=this.Ja(a,b,c));return a}};a.events=function(){};a.events.u=function(){var a=[],b=null;this.I=function(a,g){if(null!==b)for(var c=0;c<b.length;c++)b[c](a,g)};this.registerGlobalEventDispatcher=function(a){null===b&&(b=[]);b.push(a)};this.B=function(){b=null};this.a=function(b,d){a.push({event:b,listener:d})};this.f=function(b){for(var d=0;d<a.length;d++)a[d].event===b&&a.splice(d,1)};this.sc=function(b,d){for(var c=0;c<
a.length;c++){var e=d?a[c].listener===d:!0;a[c].event===b&&e&&a.splice(c,1)}};this.triggerEvent=function(b,d){this.I(b,d);for(var c=0;c<a.length;c++){var e=a[c];e.event===b&&"function"===typeof e.listener&&e.listener({type:b,info:d})}};this.rc=function(b,d){for(var c=0;c<a.length;c++){var e=a[c];e.event===b&&"function"===typeof e.listener&&e.listener(d)}}};a.events.Event=function(){var a=[];this.on=function(b,c,e){if(b){c=c.split(",");for(var f=0;f<c.length;f++)"function"===typeof b.addEventListener?
b.addEventListener(c[f],e,!1):"function"===typeof b.attachEvent&&b.attachEvent("on"+c[f],e),a.push({target:b,hb:c[f],gc:e})}};this.off=function(b,c,e){if(e)if(c=c.split(","),"all"===c[0])for(c=0;c<a.length;c++)a[c].target===b&&a[c].gc===e&&("function"===typeof b.removeEventListener?b.removeEventListener(a[c].hb,e):"function"===typeof b.detachEvent&&b.detachEvent("on"+a[c].hb,e),a.splice(c,1));else{for(var f=0;f<c.length;f++)"function"===typeof b.removeEventListener?b.removeEventListener(c[f],e):"function"===
typeof b.detachEvent&&b.detachEvent("on"+c[f],e);a=[]}}};a.Fb=function(){function c(){k.triggerEvent("timeupdate",{id:d,data:f})}var d,e,f=null,k=new a.events.u;this.start=function(){d=setInterval(c,e)};this.stop=function(){clearInterval(d)};this.__defineSetter__("data",function(a){f=a});this.a=k.a;this.f=k.f;e=250};a.cc=function(){var a=window,b=document,a={innerWidth:[a.innerWidth,b.body.clientWidth,b.documentElement.clientWidth],innerHeight:[a.innerHeight,b.body.clientHeight,b.documentElement.clientHeight],
scrollX:[a.scrollX,b.documentElement.scrollLeft,b.body.scrollLeft],scrollY:[a.scrollY,b.documentElement.scrollTop,b.body.scrollTop]},c;for(c in a)if(a.hasOwnProperty(c)){for(b=0;b<a[c].length;b++)"number"!==typeof a[c][b]&&(a[c].splice(b,1),b--);a[c]=a[c][0]}};a.va="ontouchstart"in window||"ontouchstart"in document.documentElement;a.createElement=function(c,d){var e=null;try{e=document.createElement(c)}catch(f){e=document.createElement("<"+c+">")}if(d){"id"in d||e.setAttribute("id",a.fb());for(var k in d)d.hasOwnProperty(k)&&
e.setAttribute(k,d[k])}return e};a.trim=function(a){return a.replace(/^\s+|\s+$/g,"")};a.fb=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)}).toUpperCase()};a.M=function(a){var b=0,c=a.split(".")[0],c=a.split(":").reverse();for(a=0;a<c.length;a++)b+=parseInt(c[a]*Math.pow(60,a),10);return b};a.wb=function(c,d){var e=-1!==c.indexOf("%"),f=parseInt(c,10),k;return d&&e?("string"===typeof d?k=a.M(d.split(".")[0]):
isNaN(d)||(k=parseInt(d,10)),k&&!isNaN(f)?f/100*k:"IGNORE"):isNaN(c)?a.M(c.split(".")[0]):c};a.clone=function(c){if(!c||"object"!=typeof c)return c;var d=new c.constructor,e;for(e in c)c.hasOwnProperty(e)&&(d[e]=a.clone(c[e]));return d};a.Rc=function(){return!0};a.Jc=["doubleclick","smartclip.net","adtech","userreport.com"];a.Cc=function(c){var d=!1;a.Jc.forEach(function(a){-1<c.indexOf(a)&&(d=!0)});return d};a.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};a.Ma=function(a){return!!a.externalConfigXml};
a.isWindow=function(a){return null!=a&&a==a.window};a.lb=function(c,d){if(a.isWindow(c)){var e=c.document.documentElement["client"+d],f=c.document.body;return"CSS1Compat"===c.document.compatMode&&e||f&&f["client"+d]||e}return 9===c.nodeType?Math.max(c.documentElement["client"+d],c.body["scroll"+d],c.documentElement["scroll"+d],c.body["offset"+d],c.documentElement["offset"+d]):parseFloat(window.getComputedStyle(c,null).getPropertyValue(d.toLowerCase()))};a.getHeight=function(c){return a.lb(c,"Height")};
a.getWidth=function(c){return a.lb(c,"Width")};a.uc=function(c,d){var e=c,f;for(f in d)d.hasOwnProperty(f)&&a.g(d[f])&&(e=e.replace(String(f),String(d[f])));return e};a.j=function(c,d){return a.g(c)?c.getElementsByTagName(d):[]};a.b=function(c,d){if(a.g(c))return c.getElementsByTagName(d)[0]};a.c=function(c){if(!c||!c.childNodes[0])return!1;for(var d=c.childNodes.length,e="",f="",k=!1;d--;)if(4===c.childNodes[d].nodeType){f=a.trim(c.childNodes[d].nodeValue);break}else 3===c.childNodes[d].nodeType&&
(e=a.trim(c.childNodes[d].nodeValue));""!==f?k=f:""!==e&&(k=e);return k};a.h=function(a){if(!a)return!1;for(var b={},c=0;c<a.attributes.length;c++)b[a.attributes[c].name]=a.attributes[c].value;return b};a.isDocumentInFullScreenMode=function(){return document.Wb&&null!==document.Wb||document.mozFullScreen||document.webkitIsFullScreen};a.sb=function(a){return"string"===typeof a&&a.length?Number(a):!1};a.O=function(){for(var a=window.frameElement,b=window;a;)b=a.ownerDocument.defaultView,a=b.frameElement;
return b};a.ra=function(){return[R.IDENTIFIER,R.API_VERSION,R.API_BUILD].join("|")};a.unique=function(a){return a.reduce(function(a,b){0>a.indexOf(b)&&a.push(b);return a},[])};return a}(a||{}),u=new c;window.$ad=window.instreamapi=function(b,c){function d(b,d,c){for(var f=null,g=0;g<K.length;g++)K[g].P==c&&(f=g);null!==f&&(K[f].xa.destroy(),K.splice(f,1));d=a.clone(d);if(a.Ma(d)){var k=d.onConfigLoaded;d.onConfigLoaded=function(a){for(var b,d,c=0;c<F.length;c++)if(F[c].Na===a){b=F[c];d=c;break}b&&
(c=new q(b.ta,b.Na),e=b={P:b.P,xa:c},K.push(b),F.splice(d,1));k&&k(a)};d=new x(d);F.push({Na:d,ta:b,P:c})}else d=new x(d),b=new q(b,d),e=c={P:c,xa:b},K.push(c)}var e,f;(function(){var a=new C;if(!c){for(a=0;a<K.length;a++)K[a].P.id==b&&(e=K[a]);return null}if(b&&"*"!=b)f=a.nb(b),d(f.ta,c,f.P);else for(f=a.getAll(),a=0;a<f.length;a++)d(f[a].ta,c,f[a].P)})();return e&&e.xa?e.xa:void 0};var V=[],oa=[];a.find=function(a,c){return Array.prototype.map.call((c||document).querySelectorAll(a),function(a){return a})};
a.isFunction=function(a){var c=Object.prototype.toString.call(a);return"[object Function]"===c||"function"===typeof a&&"[object RegExp]"!==c||"undefined"!==typeof window&&(a===window.setTimeout||a===window.alert||a===window.confirm||a===window.prompt)};var sa=window.ois=function g(d,c,e){if(a.isFunction(d))return V.forEach(function(a){d(a.oa,a.element,a.qc,{adManager:a.adManager,config:a.Na})}),oa.push(d);if("number"===typeof d||"undefined"===typeof d)return V[d||0].oa;if(d.nodeType)return null!==
d.getAttribute("data-ois-instance-id")?(e=V[d.getAttribute("data-ois-instance-id")],c&&e.w.ya(c),e.oa):c?f(d,c,e):null;if("string"===typeof d){var k=a.find(d)[0];return k&&g(k,c,e)}return null};sa(function(a,d,c,e){var f=e.w;a.load=function(){};a.shutdown=function(){delete V[d.getAttribute("data-ois-instance-id")];d.removeAttribute("data-ois-instance-id")};a.registerVASTExtension=function(a,d){window[a]=d;var c=f.Zb();c.vastExtensions[a]=!0;f.ya(c)};return a});sa(function(a){e.prototype.apply(this);
var d=null,c=-1,f=-1;a.subscribe(function(a,c){d=new Date;f=c.duration;this.dispatchEvent("AdDurationChange")},"AdLoaded");a.subscribe(function(){c=f-(new Date-d)/1E3;this.dispatchEvent("AdDurationChange");this.dispatchEvent("AdRemainingTimeChange")},"AdVideoTimeupdate");a.getAdRemainingTime=function(){return c};a.getAdDuration=function(){return f}});sa(function(a,d,c,e){function f(a,d,c){var e="undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.open("GET",
a,!0);e.onreadystatechange=function(){4===e.readyState&&(200===e.status?(d||Function)(e.responseXML):(c||Function)(e.status))};e.send(null)}function k(d){var c={};if((d=d.getElementsByTagName("OIS"))&&d[0]){for(var e=d[0].children.length-1;0<=e;e--){var f=d[0].children[e];c[f.tagName]=f.textContent}h.ya(c);p=!0;n&&a.startAd()}}function l(){p=!0;n&&a.startAd()}var h=e.w,p=!1,n=!1,m=a.startAd;a.startAd=function(){n=!0;p&&m.apply(a,[].slice.call(arguments))};(function(){var a=c.configXML;a?f(a,k,l):
p=!0})();return a});R.API_VERSION="2.2.4";R.API_BUILD="004a48";R.IDENTIFIER="OISHTML5VE";R.MediaSelector=function(c,d){function e(a){return"boolean"===typeof a?a:"string"===typeof a&&"true"===a?!0:!1}function f(a){return"string"===typeof a?a.toLowerCase():a}function k(d){var c=!0,g=d.attributes;h.forEach(function(d){var h;a:{for(h in d)break a;h=void 0}h=f(h);d=f(d[h]);if(a.g(h)&&a.g(d))switch(h){case "delivery":case "type":case "apiframework":"type"==h&&(d=d.split("|"));g.hasOwnProperty(h)&&-1===
d.indexOf(g[h].toLowerCase())&&(c=!1);break;case "bitrate":case "width":g.hasOwnProperty(h)&&parseInt(g[h],10)>parseInt(d,10)&&(c=!1);break;case "scalable":case "maintainaspectratio":g.hasOwnProperty(h)&&e(g[h])!==e(d)&&(c=!1)}});return c}function p(){q=n.filter(function(a){return k(a)})}var l=new a.events.u,h=d.mb(),n=c.i().linear,q=[];this.a=l.a;this.f=l.f;this.registerGlobalEventDispatcher=l.registerGlobalEventDispatcher;this.Ec=function(){q.sort(function(a,d){return parseInt(a.attributes.bitrate,
10)>parseInt(d.attributes.bitrate,10)?1:parseInt(a.attributes.bitrate,10)<parseInt(d.attributes.bitrate,10)?-1:0})};this.Vb=function(){p();1>q.length&&(d.removeRule("bitrate"),h=d.mb(),p());return this};this.kb=function(){return q}};R.extensions.CustomTrackingEvents=function(c,d,e,f,k){function p(a){switch(a.info){case "creativeView":u.start()}}var l,h,n=this,q=[],m=new a.events.u,u;this.Xb=function(){var a=Math.round(100*(h.totalTime-h.Qa))/100,d=c.sa().R||void 0;return{"[sc_systemDomain]":"undefined",
"[sc_viewtime]":a,"[sc_percentvisible]":d,"[uif_adslot]":"linear"}};this.setViewport=function(){};this.destroy=function(){};this.a=m.a;this.f=m.f;(function(){c.dc();h=d;l=f;l.a("onTrack",p);var a=new R.extensions.CustomTrackingEvents.Parser;e&&(q=a.parse(e));u=new R.extensions.CustomTrackingEvents.CustomTrackingEventHandler(c.sa,q,n,l);k.a("AdStopped",u.destroy)})()};R.extensions.CustomTrackingEvents.Parser=function(){this.parse=function(c){var d,e=[];c=a.j(c,"Tracking");for(var f=0;f<c.length;f++){var k=
c[f];d=a.h(k);k=a.c(k);d=a.extend({},d);"viewableImpression"===d.event&&(d.offset=d.offset?1E3*a.M(d.offset):2E3,d.visibility=d.visibility?parseInt(d.visibility,10):50);d.url=k;e.push(d)}return e}};R.extensions.CustomTrackingEvents.CustomTrackingEventHandler=function(c,d,e,f){function k(d){d=d.info.data;c().R>d.visibility?d.Pa++:d.Pa=0;if(250*d.Pa/1E3>=d.offset/1E3){if(a.g(d.url)){var l=a.V.Y(a.uc(d.url,e.Xb()));f.ab(l,"viewableImpression")}d.H.f("timeupdate",k);d.H.stop()}}function p(){try{d.forEach(function(a){a.H.f("timeupdate",
k);a.H.stop()})}catch(a){}}var l;this.start=function(){d=d.filter(function(a){return"viewableImpression"===a.event});c&&d.length&&d.forEach(function(d){l=new a.Fb;l.data=d;d.H=l;d.Pa=0;l.a("timeupdate",k);l.start()})};this.destroy=function(){p()}}})();function Ra(c){this.id=c.id||Math.random().toString(36).substring(7);this.options=c;for(var e in this.options)this.options.hasOwnProperty(e)&&"function"===typeof this.options[e]&&(this.options[e]=[this.options[e]]);this.valid=!0;this.active=!1}Ra.prototype.callMethods=function(c){if(c)for(var e=c.length,f=0;f<e;f++)if(!c[f].apply(this,[].slice.call(arguments)))return!1;return!0};Ra.prototype.destroy=function(){};Ra.prototype.initialize=function(){};
Ra.prototype.enter=function(){this.callMethods(this.options.canEnter)&&(this.callMethods(this.options.onFirstRun),this.callMethods(this.options.onEnter),this.options.onFirstRun=[],this.active=!0)};Ra.prototype.exit=function(){this.callMethods(this.options.canLeave)&&(this.callMethods(this.options.onLeave),this.active=!1)};function Sa(c,e){Ra.call(this,e);this.element=c}Q.inherits(Sa,Ra);Sa.prototype.initialize=function(){var c=this;Ra.prototype.initialize.call(this);this.element.addEventListener("mouseover",function(){c.enter()},!1);this.element.addEventListener("mouseout",function(){c.exit()},!1)};function Ta(){this.states=[]}Ta.prototype.addState=function(c){c.valid&&(c.initialize(),this.states.push(c))};Ta.prototype.removeState=function(c){this.states=this.states.filter(function(e){return e.id===c?(e.destroy(),!1):!0})};Ta.prototype.removeAllStates=function(){for(var c=this.states.length-1;0<=c;c--)this.states[c].destroy();this.states=[]};Ta.prototype.getState=function(c){return this.states.filter(function(e){return e.id===c?!0:!1}).shift()};
Ta.prototype.isActive=function(c){return(this.getState(c)||{}).active||!1};Ha.smartPlay(function(c){c.utils=c.utils||{};c.utils.extend=function(e){var f=[];f.forEach.call(f.slice.call(arguments,1),function(f){if(f)for(var q in f)({}).hasOwnProperty.call(f,q)&&(e[q]="object"===typeof e[q]&&"object"===typeof f[q]&&null!==f[q]?c.utils.extend(e[q],f[q]):f[q])});return e}});Ha.smartPlay(function(c){c.model=c.model||{};c.model.PublisherConfig=function(e){var f={adRequest:"",adResponse:"",timeText:"",headerText:"Advertisement",skipText:"",skipOffset:-1,uiLayout:"minimal",volume:.75,minFlashVersion:10,behaviourMatrix:{},featureMatrix:{},prefetching:!1,onCappedCallback:Function,onStartCallback:Function,onEndCallback:Function},k={};e.behaviourMatrix=c.utils.extend({init:{collapsed:!0,paused:!0,muted:!0},onScreen:{collapsed:!1,paused:!1,muted:!0},offScreen:{collapsed:!1,paused:!0,
muted:!0},complete:{collapsed:!0,paused:!1,muted:!0},onClick:{collapsed:!1,paused:!0,muted:!0},mouseOver:{collapsed:!1,paused:!1,muted:!1},mouseOut:{collapsed:!1,paused:!1,muted:!0}},e.behaviourMatrix);e.featureMatrix=c.utils.extend({flash:{enabled:!0,source:"//cdn.smartclip.net/multiplayer/4.0.0/player.swf"},broadway:{enabled:!0,source:"//cdn.smartclip.net/multiplayer/4.0.0/bw.min.js"},layout:{enabled:!0,source:"//cdn.smartclip.net/multiplayer/4.0.0/style.css"}},e.featureMatrix);return k=c.utils.extend(f,
e)}});Ha.smartPlay(function(c){c.model=c.model||{};c.model.EnvironmentVars=function(){var c={},f=this;f.observe=function(k,q){c.hasOwnProperty(k)?c[k].observers.push(q):(c[k]={value:null,observers:[q]},Object.defineProperty(f,k,{set:function(f){c[k].value=f;c[k].observers.forEach(function(f){f(c[k].value)})},get:function(){return c[k].value},enumerable:!0,configurable:!0}))};f.disconnect=function(k,q){f.hasOwnProperty(k)&&(c[k].observers=[],Object.defineProperty(f,k,{set:void 0}),!0===q&&(delete c[k],delete f[k]))};
return f}});Ha.smartPlay(function(c){c.utils=c.utils||{};c.utils.topLevelWindow=function(c){for(var f=window.frameElement,k=window;f;)(c||function(){})(f),k=f.ownerDocument.defaultView,f=k.frameElement;return k};c.utils.getTopBoundingClientRect=function(c){var f=c.getBoundingClientRect(),f={bottom:f.bottom,height:f.height,left:f.left,right:f.right,top:f.top,width:f.width};c=c.ownerDocument.defaultView;for(c=c.frameElement;null!==c;){var k=c.getBoundingClientRect();f.left+=k.left;f.top+=k.top;f.right=f.left+f.width;
f.bottom=f.top+f.height;c=c.ownerDocument.defaultView;c=c.frameElement}return f};c.utils.isIF=function(){return window!==top};c.utils.isFIF=function(){return c.utils.isIF()&&null!==window.frameElement};c.utils.browserInfo=function(){var c=navigator.userAgent,f,k=c.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[],q={browser:null,version:0};if(/trident/i.test(k[1]))return f=/\brv[ :]+(\d+)/g.exec(c)||[],q.browser="MSIE",q.version=parseInt(f[1]||0,10),q;if("Chrome"===k[1]&&(f=
c.match(/\b(OPR|Edge)\/(\d+)/),null!==f))return q.browser=f.slice(1).join(" ").replace("OPR","Opera"),q;k=k[2]?[k[1],k[2]]:[navigator.appName,navigator.appVersion,"-?"];f=c.match(/version\/(\d+)/i);null!==f&&k.splice(1,1,f[1]);q.browser=k[0];q.version=parseInt(k[1],10);return q}();c.utils.getFlashVersion=function(){var c=-1!==navigator.appVersion.indexOf("MSIE")?!0:!1,f=-1!==navigator.appVersion.toLowerCase().indexOf("win")?!0:!1,k=-1!==navigator.userAgent.indexOf("Opera")?!0:!1,q=null,q=null;if(null!==
navigator.plugins&&0<navigator.plugins.length){if(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"])return q=navigator.plugins["Shockwave Flash"+(navigator.plugins["Shockwave Flash 2.0"]?" 2.0":"")].description.split(" "),q=q[2].split("."),parseInt(q[0],10)}else if(c&&f&&!k)try{return q=(new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7")).GetVariable("$version").split(","),parseInt(q[0].substr(4),10)}catch(x){}return 7}});var Ua={Visibility:function(c,e,f){var k={visibility:0,distance:Infinity},q={width:f.width,height:f.height},x;k.update=function(f){f&&(q={width:f.width,height:f.height});f=e.utils.getTopBoundingClientRect(c);q.top=f.top;q.left=f.left;q.bottom=f.top+q.height;q.right=f.left+q.width;f=0;var C=q.width*q.height,A=((q.right<x.right?q.right:x.right)-(q.left>x.left?q.left:x.left))*((q.bottom<x.bottom?q.bottom:x.bottom)-(q.top>x.top?q.top:x.top));0<A&&(f=A/C);k.visibility=100*f};(function(){var c=e.utils.topLevelWindow();
x={top:0,left:0,bottom:c.innerHeight,right:c.innerWidth,height:c.innerHeight,width:c.innerWidth}})();return k}};function Za(c,e,f){Ra.call(this,f);this.visibilityModel=new Ua.Visibility(c,e,e.size);this.topLevelWindow=e.utils.topLevelWindow();this.api=e;this.topLevelWindow!==top&&(this.valid=!1)}Q.inherits(Za,Ra);
Za.prototype.initialize=function(){var c=this;Ra.prototype.initialize.call(this);this.valid&&(this.visibilityModel.update(this.api.size),this.updateTimeout=setInterval(function(){c.visibilityModel.update(c.api.size);c.visibilityModel.visibility>=(c.options.requiredVisibility||50)?c.enter():c.exit()},this.options.reportInterval||50))};Za.prototype.destroy=function(){this.updateTimeout&&(clearInterval(this.updateTimeout),this.updateTimeout=null)};function $a(c,e,f){Ra.call(this,f);this.element=e.utils.topLevelWindow()}Q.inherits($a,Ra);$a.prototype.initialize=function(){var c=this;Ra.prototype.initialize.call(this);this.element.addEventListener("touchmove",function(){c.enter()},!1);this.element.addEventListener("touchend",function(){c.exit()},!1);this.element.addEventListener("touchcancel",function(){c.exit()},!1)};function ab(c,e){this.view=c;this.api=e;this.environmentVars=e.environmentVars;this.publisherConfig=e.publisherConfig;this.playerSource=e.publisherConfig.featureMatrix.flash.source;this.getParam=function(c,e){return'<param name="'+c+'" value="'+e+'"></param>'};this.create();this.player=this.view.querySelector("#flash-player");this.initialized=this.ready=!1}
ab.prototype.create=function(){var c="";switch(this.api.utils.browserInfo.browser.toLowerCase()){case "msie":c='<object id="##OBJECT_ID##" classid="clsid:##FLASH_CLASS_ID##" codebase="##PROTOCOL##//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,115,0" width="##AD_WIDTH##" height="##AD_HEIGHT##" type="application/x-shockwave-flash">'+this.getParam("movie",this.playerSource);break;case "firefox":c='<object id="##OBJECT_ID##" width="##AD_WIDTH##" height="##AD_HEIGHT##" type="application/x-shockwave-flash" data="##MINI_PLAYER_URL##">';
break;default:c='<object id="##OBJECT_ID##" width="##AD_WIDTH##" height="##AD_HEIGHT##" type="application/x-shockwave-flash">'+this.getParam("movie",this.playerSource)}c=c.replace(/##OBJECT_ID##/g,"flash-player");c=c.replace(/##FLASH_CLASS_ID##/g,"D27CDB6E-AE6D-11CF-96B8-444553540000");c=c.replace(/##PROTOCOL##/g,"http:");c=c.replace(/##AD_WIDTH##/g,"100%");c=c.replace(/##AD_HEIGHT##/g,"100%");c=c.replace(/##MINI_PLAYER_URL##/g,this.playerSource);c+=this.getParam("menu","false");c+=this.getParam("scale",
"noscale");c+=this.getParam("wmode","transparent");c+=this.getParam("allowScriptAccess","always");c+=this.getParam("FlashVars","adWidth=300&adHeight=200&audioVolume="+(this.api.environmentVars.muted?0:this.api.environmentVars.volume)+"&debugLevel=3&instanceID=flash-player");this.view.innerHTML=c+"</object>"};ab.prototype.subscribe=function(c,e){this.player.addEventListener(e,c)};ab.prototype.unsubscribe=function(c,e){this.player.removeEventListener(e,c)};
ab.prototype.dispatchEvent=function(){var c=Array.prototype.slice.call(arguments),e=c.shift();this.player.dispatchEvent(new Event(e[0],c))};ab.prototype.handshakeVersion=function(){if(this.ready)return"2.0";this.ready=!0;this.dispatchEvent(["PlayerReady"])};ab.prototype.initAd=function(c,e,f,k,q,x){this.initialized||(this.player.initAd(c,e,f,k,q,x),this.initialized=!0)};ab.prototype.resizeAd=function(c,e,f){this.player.resizeAd(c,e,f)};ab.prototype.startAd=function(){};ab.prototype.stopAd=function(){};
ab.prototype.expandAd=function(){};ab.prototype.collapseAd=function(){};ab.prototype.pauseAd=function(){this.player.pauseAd()};ab.prototype.resumeAd=function(){this.player.resumeAd()};ab.prototype.skipAd=function(){this.player.skipAd()};ab.prototype.muteAd=function(){this.player.muteAd()};ab.prototype.unmuteAd=function(){this.player.unmuteAd()};ab.prototype.getAdVolume=function(){return this.player.getAdVolume()};ab.prototype.setAdVolume=function(c){this.player.setAdVolume(c)};
ab.prototype.getAdRemainingTime=function(){return this.player.getAdRemainingTime?this.player.getAdRemainingTime():-2};ab.prototype.getAdDuration=function(){return this.player.getAdRemainingTime?this.player.getAdDuration():-2};ab.prototype.getAdLinear=function(){return!0};Number.isFinite=Number.isFinite||function(c){return"number"===typeof c&&isFinite(c)};function bb(c,e){this.view=c;this.color=e;this.skipUI=this.view.querySelector("#skip");this.canvas=this.view.querySelector("#skip canvas");this.outerRadius=this.canvas.width/2;this.innerRadius=this.outerRadius-5;this.ctx=this.canvas.getContext("2d")}
bb.prototype.countdown=function(c){var e=-1*Math.PI/2,f=this.innerRadius-2;c=Math.min(Math.max(0,1-c||1),1);this.ctx.clearRect(0,0,this.canvas.width,this.canvas.width);this.ctx.beginPath();this.ctx.arc(this.outerRadius,this.outerRadius,f,e,2*Math.PI*c+e,!1);this.ctx.strokeStyle=this.color;this.ctx.lineCap="butt";this.ctx.lineWidth=2;this.ctx.stroke();this.ctx.closePath()};bb.prototype.activate=function(){this.skipUI.classList.add("active")};bb.prototype.enable=function(){this.skipUI.classList.add("enabled")};
bb.prototype.getSeconds=function(c){c=Number.isFinite(c)?[c]:c.split(":");for(var e=0,f=1;0<c.length;)e+=f*parseInt(c.pop(),10),f*=60;return e};Ha.smartPlay(function(c){c.controller=c.controller||{};c.controller.Player=function(){function e(c,a){var f=a||document.body;c.nodes.forEach(function(a){var c=document.createElement(a.tag),b;for(b in a.attributes)a.attributes[b]&&c.setAttribute(b,a.attributes[b]);a.content&&c.insertAdjacentHTML("beforeend",a.content);a.nodes&&0<a.nodes.length&&e(a,c);f.appendChild(c)});for(var k in c.attributes)c.attributes[k]&&f.setAttribute(k,c.attributes[k])}function f(e){return c.utils.getFlashVersion()>=D.minFlashVersion&&
D.featureMatrix.flash.enabled?(p=new ab(e,c),G.defaultView.VPAIDBridge=function(){var a=Array.prototype.slice.call(arguments),c=a.shift();if(p&&p[c])p[c](a)},!0):!1}function k(){clearTimeout(R);p.ready=!0;p.initialized=!0;y.adManager.setVpaidAd(p);y.adManager.startLinear();y.adManager.triggerEvent("AdError",901)}function q(){var c=G.querySelector(".overlay #controlbar");c&&c.classList.remove("active")}function x(){var c=G.querySelector(".overlay #controlbar");c&&c.classList.add("active");clearTimeout(ia);
ia=setTimeout(q,5E3)}function U(){G.querySelector("#volume-level > span").setAttribute("class","scmp-volume-0-mute")}function C(){if(!n.paused){p&&p.ready?(n.currentTime=parseInt(p.getAdDuration()-p.getAdRemainingTime(),10),n.duration=parseInt(p.getAdDuration(),10)):n.currentTime=L.currentTime||y.getAdDuration()-y.getAdRemainingTime();Number.isFinite(n.duration)&&0<n.duration&&Number.isFinite(n.currentTime)&&(n.validDuration="visibility: visible");""!==D.timeText&&(n.validTimeText="display: table-cell");
if(Number.isFinite(D.skipOffset)&&-1<D.skipOffset){var c=n.currentTime/D.skipOffset;if(!Number.isFinite(c))return;ra.activate();1>c?ra.countdown(c):ra.enable()}n.timeText=D.timeText.replace("[currentTime]",parseInt(n.currentTime,10)).replace("[remainingTime]",parseInt(n.duration-n.currentTime,10)).replace("[duration]",parseInt(n.duration,10));n.headerText=D.headerText.replace("[currentTime]",parseInt(n.currentTime,10)).replace("[remainingTime]",parseInt(n.duration,10)-parseInt(n.currentTime,10)).replace("[duration]",
parseInt(n.duration,10));n.percentPlayed="width: "+100*n.currentTime/n.duration+"%"}}function A(){U();for(var c=25;c<=100*n.volume;)G.querySelector("#volume-level > span").classList.add("scmp-volume-"+c),c+=25}function E(){var e=c.utils.getTopBoundingClientRect(c.elements.iframe);n.size&&n.size.width===parseInt(e.width,10)&&n.size.height===parseInt(e.height,10)||(n.size={width:parseInt(e.width,10),height:parseInt(e.height,10)},p&&p.ready&&p.resizeAd(n.size.width,n.size.height,"normal"))}function N(c,
a,e){a.addEventListener(c,e);ka.push({event:c,element:a,listener:e})}function X(c,a,e){n.observe(e,function(e){c?(c.setAttribute&&c.setAttribute(a,e),c[a]=e):K("Couldn't deliver update for "+a+" set "+e+". Target not present.")});ma.push({element:c,attribute:a,property:e})}function S(c,a){for(var e=a.split(" ").join("").split(","),f=0;f<e.length;f++){var k=e[f].split(":"),p=k[0],k=k[1];"function"===typeof w[k]?N(p,c,w[k]):X(c,p,k)}}function O(){ma.forEach(function(c){n.disconnect(c.property,!0)});
ka.forEach(function(c){c.element.removeEventListener(c.event,c.listener)});ma=ka=[]}function ca(){n.videoSlot=L=G.querySelector("#video-slot");n.slot=G.querySelector("#display-slot");L.addEventListener("timeupdate",function(){n.currentTime=this.currentTime});L.addEventListener("loadedmetadata",function(){n.duration=this.duration});L.addEventListener("durationchange",function(){n.duration=this.duration});L.addEventListener("progress",function(){4===this.readyState&&(n.percentLoaded="width: "+100*this.buffered.end(0)/
n.duration+"%")});L.addEventListener("volumechange",function(){n.muted||A()});"overlay"===D.uiLayout&&N("mousemove",L,x);N("resize",G.defaultView,E);for(var c=G.querySelectorAll("[data-bind]"),a=0;a<c.length;a++)c[a].getAttribute("data-bind")&&0<c[a].getAttribute("data-bind").length&&S(c[a],c[a].getAttribute("data-bind"))}function fa(){X(y,"adVolume","volume");y.subscribe(function(e,a){K("[VPAID Event] AdTagParsed",a);a&&a.linear&&a.linear[0]&&a.linear[0].attributes.apiFramework&&"vpaid"===a.linear[0].attributes.apiFramework.toLowerCase()&&
(0>n.uiLayout.indexOf("none")&&G.body.classList.add("none"),!p&&a.linear[0].attributes.type&&"application/x-shockwave-flash"===a.linear[0].attributes.type.toLowerCase()&&f(n.slot)&&(y.adManager.setAutoplay(!1),R=setTimeout(k,4E3),G.body.classList.add("flash"),p.subscribe(function(){clearTimeout(R);p.initAd(c.size.width,c.size.height,"normal",300,a.linear[0],{});y.adManager.setVpaidAd(p);y.adManager.startLinear();y.adManager.triggerEvent("AdStarted")},"PlayerReady"),p.subscribe(function(){n.paused=
!1;n.playState="playing";clearInterval(ta);ta=setInterval(C,250);n.muted?p.muteAd():p.setAdVolume(n.volume)},"AdVideoStart"),p.subscribe(function(){n.paused=!1;n.playState="playing"},"AdPlaying"),p.subscribe(function(){n.paused=!0;n.playState="paused"},"AdPaused"),p.subscribe(function(){clearInterval(ta);y.stopAd()},"AdStopped"),p.subscribe(function(){n.duration=p.getAdDuration()},"AdDurationChange")))},"AdTagParsed");y.subscribe(function(c,a){K("[VPAID Event] AdLoaded",a);n.paused=!1;n.playState=
"playing";a&&a.linear&&a.linear[0]&&a.linear[0].skipoffset&&(D.skipOffset=ra.getSeconds(a.linear[0].skipoffset))},"AdLoaded");y.subscribe(function(){K("[VPAID Event] AdStarted",arguments);clearInterval(ta);ta=setInterval(C,250)},"AdStarted");y.subscribe(function(){K("[VPAID Event] AdVideoComplete",arguments);D.behaviourMatrix.complete.collapsed||(w.pausePlayback(),L.currentTime=0,n.pausedByUser=!0)},"AdVideoComplete");y.subscribe(function(){K("[VPAID Event] AdStopped",arguments);D.behaviourMatrix.complete.collapsed&&
O()},"AdStopped");y.subscribe(function(){n.duration=L.duration||y.getAdDuration()},"AdDurationChange");y.subscribe(function(){K("[VPAID Event] AdVideoPause",arguments);n.paused=!0;n.playState="paused"},"AdVideoPause");y.subscribe(function(){K("[VPAID Event] AdVideoPlay",arguments);n.paused=!1;n.playState="playing"},"AdVideoPlay");y.subscribe(function(){K("[VPAID Event] AdVolumeChange",arguments);n.volume=y.adVolume;w.volumeChange()},"AdVolumeChange");y.subscribe(function(){function c(){document[a]||
(document.removeEventListener(e,c,!1),setTimeout(function(){y.resumeAd()},300))}K("[VPAID Event] AdClickThru",arguments);var a,e;"undefined"!==typeof document.hidden?(a="hidden",e="visibilitychange"):"undefined"!==typeof document.mozHidden?(a="mozHidden",e="mozvisibilitychange"):"undefined"!==typeof document.msHidden?(a="msHidden",e="msvisibilitychange"):"undefined"!==typeof document.webkitHidden&&(a="webkitHidden",e="webkitvisibilitychange");e&&document.addEventListener(e,c,!1)},"AdClickThru")}var w=
this,G=null,W={},n={},D={},L=null,y=null,p=null,ra=null,ta=0,ka=[],ma=[],ia=0,R=0,K=c.debug;w.skip=w.skip=function(){K("[VPAIDInterface] In skipAd()");y.skipAd();p&&p.ready&&p.skipAd()};w.pausePlayback=function(){K("[VPAIDInterface] In pauseAd()");y.pauseAd();p&&p.ready&&p.pauseAd();L.removeAttribute("controls")};w.resumePlayback=function(){K("[VPAIDInterface] In resumeAd()");y.resumeAd();p&&p.ready&&p.resumeAd()};w.togglePlay=w.togglePlay=function(){n.paused?(n.pausedByUser=!1,w.resumePlayback()):
(n.pausedByUser=!0,w.pausePlayback())};w.triggerClickThrough=w.triggerClickThrough=function(){y.adManager.clickThrough()};w.seek=w.seek=function(){};w.volumeChange=w.volumeChange=function(c){var a=n.volume;n.volume=.25*Math.round(a/.25);null===c?A():("volume-increase"===c.target.id?(a+=.25,1<a&&(a=1)):"volume-decrease"===c.target.id&&(a-=.25,0>a&&(a=0)),n.volume=a,L.muted&&"volume-increase"===c.target.id?(w.unmute(),p&&p.ready&&p.setAdVolume(a)):L.muted?(A(),setTimeout(function(){U()},1E3)):(p&&p.ready&&
p.setAdVolume(a),A()))};w.mute=function(){U();n.muted=!0;L.muted=!0;p&&p.ready&&p.muteAd()};w.unmute=function(){A();n.muted=!1;L.muted=!1;p&&p.ready&&p.setAdVolume(n.volume)};w.toggleMute=w.toggleMute=function(){n.toggleMuteByUser=!0;L.muted?w.unmute():w.mute()};w.initView=function(c,a){W=c;G=a;var f=D.featureMatrix.layout.source,k=a.head||document.head,p=document.createElement("link");p.setAttribute("href",f);p.setAttribute("type","text/css");p.setAttribute("rel","stylesheet");k.appendChild(p);f=
D.borderStyle;a.defaultView.frameElement.style.boxSizing="border-box";a.defaultView.frameElement.style.border=f;e(W.dom,a.body);ca();/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&"overlay"===D.uiLayout&&(D.uiLayout="minimal");f=Array.prototype.slice.call(G.body.classList).join(" ");n.uiLayout=f+" "+D.uiLayout;n.skipText=D.skipText;n.pausedByUser=!1;n.volume=.25*Math.round(D.volume/.25);A();ra=new bb(G,"#F5F5F5");E();n.playerReady=!0};w.setVPAIDAd=function(c){K("setVPAIDAd",c);y=c;fa()};n=
c.environmentVars;D=c.publisherConfig;return w}});function cb(c){this.behaviourMatrix=c;this.handlers={}}cb.prototype.registerBehaviourHandler=function(c,e){this.handlers[c]||(this.handlers[c]=[]);this.handlers[c].push(e)};cb.prototype.callMethods=function(c){if(c)for(var e=c.length,f=0;f<e;f++)if(!c[f].apply(this,[].slice.call(arguments).slice(1)))return!1;return!0};cb.prototype.executeBehavioursForState=function(c){var e=this.behaviourMatrix[c],f;for(f in e)e.hasOwnProperty(f)&&this.callMethods(this.handlers[f],c,e[f])};
cb.prototype.removeAllHandlers=function(){this.handlers=[]};Ha.smartPlay(function(c){c.model=c.model||{};c.model.PlayerInterface=function(){return{dom:{nodes:[{tag:"div",attributes:{id:"slots-wrapper"},nodes:[{tag:"video",attributes:{id:"video-slot","class":"back-color",preload:"auto","data-bind":"volume: volume",src:null}},{tag:"div",attributes:{id:"display-slot"}}]},{tag:"div",attributes:{id:"player-ui","class":"paused",style:"display: none;","data-bind":"class: playState"},nodes:[{tag:"div",attributes:{id:"header","class":"front-std-color text-shadow"},
nodes:[{tag:"div",attributes:{id:"countdown","data-bind":"innerHTML: headerText, style: validDuration"}}]},{tag:"div",attributes:{id:"big-play","class":"button front-hl-color text-shadow","data-bind":"click: togglePlay"},nodes:[{tag:"span",attributes:{"class":"scmp-big-play"}}]},{tag:"div",attributes:{id:"skipbar","class":"front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"skip","class":"button back-color front-hl-color","data-bind":"click: skip"},
nodes:[{tag:"div",attributes:{"data-bind":"innerHTML: skipText"}},{tag:"div",attributes:{"class":"wrapper"},nodes:[{tag:"span",attributes:{"class":"skip-close scmp-plus rotate-45"}},{tag:"canvas",attributes:{width:"28",height:"28","class":"skip-countdown enabled"}}]}]},{tag:"div",attributes:{id:"play-ios","class":"button back-color","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-play"}}]}]},{tag:"div",attributes:{id:"click-through","class":"button back-color",
"data-bind":"click: triggerClickThrough"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-web"}}]}]}]}]},{tag:"div",attributes:{id:"controlbar","class":"back-color front-hl-color"},nodes:[{tag:"div",attributes:{style:"display: table-row"},nodes:[{tag:"div",attributes:{id:"play","class":"button","data-bind":"click: togglePlay"},nodes:[{tag:"div",nodes:[{tag:"span",attributes:{"class":"scmp-play"}}]}]},{tag:"div",attributes:{id:"progress"},nodes:[{tag:"div",attributes:{id:"progress-bg",
"class":"back-std-color light"}},{tag:"div",attributes:{id:"progress-loaded","class":"back-std-color","data-bind":"style: percentLoaded"}},{tag:"div",attributes:{id:"progress-bar","class":"button back-hl-color","data-bind":"click: seek, style: percentPlayed"}}]},{tag:"div",attributes:{id:"progress-text","data-bind":"style: validTimeText"},nodes:[{tag:"span",attributes:{"class":"front-hl-color","data-bind":"innerHTML: timeText, style: validDuration"}}]},{tag:"div",attributes:{id:"sound"},nodes:[{tag:"div",
attributes:{id:"volume-increase","class":"button","data-bind":"click: volumeChange"},nodes:[{tag:"span",attributes:{"class":"scmp-plus"}}]},{tag:"div",attributes:{id:"volume-level","class":"button","data-bind":"click: toggleMute"},nodes:[{tag:"span",attributes:{"class":"scmp-volume-0-mute scmp-volume-25 scmp-volume-50 scmp-volume-75 scmp-volume-100","data-bind":"class: volumeLevel"}}]},{tag:"div",attributes:{id:"volume-decrease","class":"button","data-bind":"click: volumeChange"},nodes:[{tag:"span",
attributes:{"class":"scmp-minus"}}]}]}]}]}]}],attributes:{"class":"back-color",style:"margin: 0; padding: 0;","data-bind":"class: uiLayout"}}}}});Ha.smartPlay(function(c,e,f){function k(){resizeInterval=setInterval(function(){c.resize()},1E3/15)}function q(f){if(!G&&n||f){e.style.height=c.size.height+"px";f=0;for(var k=c.elements.nodes.length-1;0<=k;k--){for(var q=c.elements.nodes[k],x=q.childNodes,w=x.length-1;0<=w;w--){var A=x[w];if(A.nodeType===Node.ELEMENT_NODE&&-1===c.elements.nodes.indexOf(A)&&A!==e){var C=window.getComputedStyle(A),D=parseFloat(C.marginTop)+parseFloat(C.marginBottom),C=parseFloat(C.paddingTop)+parseFloat(C.paddingBottom);
f+=Math.ceil(A.getBoundingClientRect().height+D+C)}}q.style.height=c.size.height+f+"px"}G=!0}}function x(c,e){function f(){c.apply(this,arguments);O.unsubscribe(f,e)}O.subscribe(f,e)}function U(){x(function(){W=!0;D.executeBehavioursForState("complete");setTimeout(function(){clearInterval(resizeInterval);resizeInterval=null;ca.removeAllStates();L&&E.videoSlot&&E.videoSlot.webkitDisplayingFullscreen&&E.videoSlot.webkitExitFullScreen();O.shutdown();c.shutdown();N.onEndCallback()},500)},"AdStopped");
x(function(){n=!0;k();w&&q();N.onStartCallback()},"AdStarted");x(function(){N.onCappedCallback()},"AdCapped")}function C(){f.prefetching&&(x(function(){w||S.pausePlayback()},"AdVideoPlay"),O.startAd())}function A(){O.resizeAd(E.size.width,E.size.height,"normal")}var E=c.environmentVars=new c.model.EnvironmentVars,N=c.publisherConfig=new c.model.PublisherConfig(f),X=new c.model.PlayerInterface,S=new c.controller.Player(c),O=null,ca=new Ta,fa=!1,w=!1,G=!1,W=!1,n=!1,D=null,L=/iPhone|iPad|iPod/i.test(navigator.userAgent);
c.canInteract=function(){return fa&&w&&!W};resizeInterval=null;(function(){ca.addState(new Sa(c.elements.iframe,{canEnter:function(){return c.canInteract()},canLeave:function(){return c.canInteract()},onEnter:function(){D.executeBehavioursForState("mouseOver")},onLeave:function(){D.executeBehavioursForState("mouseOut")}}))})();(function(){ca.addState(new Za(e,c,{requiredVisibility:50,reportInterval:125,canEnter:function(){return fa&&!w&&!W},canLeave:function(){return fa&&w&&!W},onEnter:function(){w=
!0;D.executeBehavioursForState("onScreen");n||O.startAd()},onLeave:function(){w=!1;D.executeBehavioursForState("offScreen")}}))})();(function(){ca.addState(new $a(e,c,{canEnter:function(){return!L&&c.canInteract()&&!E.videoSlot.playing},onEnter:function(){n?O.resumeAd():O.startAd()}}))})();(function(){D=new cb(N.behaviourMatrix);D.registerBehaviourHandler("muted",function(c,e){E.toggleMuteByUser||(!e&&E.muted&&S.unmute(),e&&!E.muted&&S.mute())});D.registerBehaviourHandler("collapsed",function(f,k){if(k){if(G||
"init"===f)e.style.height="0px",0<c.elements.nodes.length&&(c.elements.nodes[0].style.height="0px"),G=!1}else q("init"===f)});D.registerBehaviourHandler("paused",function(c,e){!n||W||E.pausedByUser||(e?S.pausePlayback():S.resumePlayback())})})();E.observe("playerReady",function(){var e=[],k=N.adRequest.html||N.adRequest;c.utils.getFlashVersion()>=N.minFlashVersion&&N.featureMatrix.flash.enabled&&(e.push({type:"application/x-shockwave-flash"}),N.adRequest&&N.adRequest.flash&&(k=N.adRequest.flash));
k={preroll:k,broadwaySource:N.featureMatrix.broadway.source,playerConfig:f,clickThroughDialogEnabled:!1,skipButtonText:""};L&&(k.displaySlot=E.slot,c.elements.iframeDocument.body.classList.add("ios"));O=ois(E.videoSlot,k);"2.0"===O.handshakeVersion()&&(O.initAd(c.size.width,c.size.height,"normal","300",{},{rules:e}),fa=!0,D.executeBehavioursForState("init"),S.setVPAIDAd(O),U(),C());E.observe("size",A)});(function(){S.initView(X,c.elements.iframeDocument);Object.defineProperty(E.videoSlot,"playing",
{get:function(){return!!(0<this.currentTime&&!this.paused&&!this.ended&&2<this.readyState)}});L&&(E.videoSlot.addEventListener("webkitendfullscreen",function(){E.pausedByUser=!0},!1),E.videoSlot.addEventListener("webkitbeginfullscreen",function(){E.pausedByUser=!1},!1))})();return c});var eb=null;function fb(c){eb=c}
window.ois(function(c,e,f,k){function q(a,e){function f(){a.apply(this,arguments);c.unsubscribe(f,e)}c.subscribe(f,e)}function x(a,c){var e=!1,b=document.createElement("script");b.type="text/javascript";b.src=a;b.onload=b.onreadystatechange=function(){e||this.readyState&&"complete"!=this.readyState||(e=!0,c())};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(b,f)}function U(){delete window.error;delete window.Broadway;O&&O.parentNode&&O.parentNode.removeChild(O)}function C(){c.getAdRemainingTime=
R;c.getAdDuration=K;c.pauseAd=F;c.resumeAd=a;delete p.currentTime;delete p.duration;fa=!0;ca?U():W.classList.remove("playing")}function A(){ka.play("true"!==D?50:0,function(){u&&eb&&!eb.canInteract()&&ka.pause();X.triggerEvent("AdStarted")},C);O=y.querySelector("canvas");O.style.backgroundColor="#000";O.addEventListener("click",function(){ca=!0;fa?U():ka.stop();w.classList.remove("broadway");-1===G.indexOf("minimal")&&w.classList.remove("minimal");X.startLinear()})}function E(){w=y.ownerDocument.body;
G=w.className.split(" ");W=w.querySelector("#player-ui");y.setAttribute("src",n);y.setAttribute("workers","true");y.setAttribute("workerFile",L+"decoder.min.js");y.setAttribute("render","true");y.setAttribute("webgl","auto");y.setAttribute("stream",D);-1===G.indexOf("minimal")&&w.classList.add("minimal");w.classList.add("broadway");p=y.parentNode.querySelector("#video-slot");window.error=function(a){console.error("Broadway",a);setTimeout(function(){fa=ca=!0;W.classList.remove("playing")},100)};c.pauseAd=
function(){ka&&ka.pause()};c.resumeAd=function(){ka&&ka.resume()};c.getAdRemainingTime=function(){return ma};c.getAdDuration=function(){return ia};ka=new window.Broadway(y);ka.load(function(){Object.defineProperty(p,"duration",{get:function(){return ia},configurable:!0});Object.defineProperty(p,"currentTime",{get:function(){return ia-ma},configurable:!0});ka.setProgressCallback(function(a,c){ia=c;ma=c-a;X.trackingController().handleTracking(a);X.triggerEvent("AdDurationChange")});ta=!0;ra&&A();u&&
window.SmartPlay(fb)})}function N(a,c){return parseInt(a.attributes.bitrate,10)>parseInt(c.attributes.bitrate,10)?1:parseInt(a.attributes.bitrate,10)<parseInt(c.attributes.bitrate,10)?-1:0}var X=k.adManager,S=/iPhone|iPad|iPod/i.test(navigator.userAgent),O=null,ca=!1,fa=!1,w=null,G=null,W=null,n=null,D="false",L="",y=f.displaySlot,p=null,ra=!1,ta=!1,ka=null,ma=-1,ia=-1,R=c.getAdRemainingTime,K=c.getAdDuration,F=c.pauseAd,a=c.resumeAd,u=f.playerConfig&&f.playerConfig.prefetching;(function(){!y&&!S||
!f.broadwaySource||f.broadwaySource&&1>f.broadwaySource.length||(L=f.broadwaySource.slice(0,f.broadwaySource.lastIndexOf("/"))+"/",X.setAutoplay(!1),q(function(a,c){if(c.gotLinear){c.linear.sort(N);var e=c.linear.filter(function(a){return"video/mp4"===a.attributes.type&&"progressive"===a.attributes.delivery});1>e.length||(n=e[0].nodeValue,D=400<e[0].attributes.bitrate?"50":"true",x(f.broadwaySource,E))}},"AdTagParsed"),q(function(){n?(ra=!0,ta&&ra&&A()):X.startLinear()},"AdLoaded"))})()});})();

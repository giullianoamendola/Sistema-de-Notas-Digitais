!function(e){"use strict";var t={getItem:function(e){return e?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:null},setItem:function(e,t,s,i,o,n){if(!e||/^(?:expires|max\-age|path|domain|secure)$/i.test(e))return!1;var r="";if(s)switch(s.constructor){case Number:r=s===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+s;break;case String:r="; expires="+s;break;case Date:r="; expires="+s.toUTCString()}return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+r+(o?"; domain="+o:"")+(i?"; path="+i:"")+(n?"; secure":""),!0},removeItem:function(e,t,s){return this.hasItem(e)?(document.cookie=encodeURIComponent(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(s?"; domain="+s:"")+(t?"; path="+t:""),!0):!1},hasItem:function(e){return e?new RegExp("(?:^|;\\s*)"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie):!1},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,s=0;t>s;s++)e[s]=decodeURIComponent(e[s]);return e}},s={set:function(t,s,i){if(e.localStorage){var o={value:s,expire:i.getTime()};e.localStorage.setItem(t,JSON.stringify(o))}},get:function(t){if(e.localStorage){var s=new Date,i=JSON.parse(e.localStorage.getItem(t)),o=i&&i.expire?new Date(i.expire):!1;return o&&s>=o?(e.localStorage.setItem(t,JSON.stringify({})),""):i&&i.value?i.value:""}}},i=function(e){this.settings={},this.settings=e,this.settings.api="http://api.clicrbs.com.br/paywall-api/count/site/",this.expire=new Date,this.expire.setMonth(this.expire.getMonth()+(this.settings.expire&&this.settings.expire>0?this.settings.expire:1)),this.expire.setDate(1),this.expire.setHours(0),this.expire.setMinutes(0),this.expire.setSeconds(0),this.cookieName=this.settings.cookieName&&""!==this.settings.cookieName?this.settings.cookieName:"pwsi__zh",this.settings.wrs=this.settings.wrs&&""!==this.settings.wrs?this.settings.wrs:"",this.settings.user=this.settings.user&&""!==this.settings.user?this.settings.user:"",this.getHashUrl()};i.prototype.getHashUrl=function(){var e=location.hash,s=e.replace("#showNoticia=",""),i=t.getItem(this.cookieName)||"";s&&""!==s&&""===i&&t.setItem(this.cookieName,s,this.expire,"/")},i.prototype.get=function(e){function t(e){var t=[];for(var s in e)e.hasOwnProperty(s)&&t.push(encodeURIComponent(s)+"="+encodeURIComponent(e[s]));return t.join("&")}var s=new XMLHttpRequest,i=e.data?t(e.data):"";"POST"===e.method&&(s.open(e.method,e.url),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),s.send(i)),"GET"===e.method&&(s.open(e.method,e.url+"?"+i),s.send()),s.onload=function(){if(s.status>=200&&s.status<400){var t=JSON.parse(s.responseText);e.success&&e.success(t)}else{var i=JSON.parse(s.responseText);e.fail&&e.fail(s.status,s.statusText,i.status)}},s.ontimeout=function(){e.fail&&e.fail({error:!0,type:"timeout",message:"Request fail, timeout."})}},i.prototype.view=function(e,i,o){var n=this,r={},a={referrer:encodeURIComponent(document.referrer),url:e.url?encodeURIComponent(e.url):this.settings.url?this.settings.url:encodeURIComponent(location.href)},c=t.getItem(this.cookieName)||"";if(c&&""!==c)a.si=c;else{var u=s.get(this.cookieName);u&&""!==u&&(a.si=u)}var p=e.wrs&&""!==e.wrs?e.wrs:this.settings.wrs;p&&""!==p&&(a.wrs=encodeURIComponent(p));var h=e.user&&""!==e.user?e.user:this.settings.user;h&&""!==h&&(a.user=h);var g=e.socialLogged&&""!==e.socialLogged?e.socialLogged:"";g&&""!==g&&(a.socialLogged=g),a.product=e.product&&e.product>0?e.product:this.settings.product,r.method="GET",r.url=this.settings.api+(e.site&&e.site>0?e.site:this.settings.site),r.data=a,r.success=function(e){t.setItem(n.cookieName,e.si,n.expire,"/"),s.set(n.cookieName,e.si,n.expire),i&&i(e)},r.fail=function(e,t,s){console.log(e,t,s),o&&o(e,t,s)},this.get(r)},e.Paywall=i}(window);